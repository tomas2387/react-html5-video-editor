"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var React=require("react"),React__default=_interopDefault(React),ReactDOM=require("react-dom"),ReactDOM__default=_interopDefault(ReactDOM);function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){_defineProperty(t,e,r[e])})}return t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var ReactPropTypesSecret="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function e(e,t,r,n,i,o){if(o!==ReactPropTypesSecret_1){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}var r={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return r.PropTypes=r},propTypes=createCommonjsModule(function(e){e.exports=factoryWithThrowingShims()});function _assertThisInitialized$1(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}var ReactReduxContext=React__default.createContext(null);function defaultNoopBatch(e){e()}var batch=defaultNoopBatch,setBatch=function(e){return batch=e},getBatch=function(){return batch},CLEARED=null,nullListeners={notify:function(){}};function createListenerCollection(){var e=getBatch(),r=[],n=[];return{clear:function(){r=n=CLEARED},notify:function(){var t=r=n;e(function(){for(var e=0;e<t.length;e++)t[e]()})},get:function(){return n},subscribe:function(e){var t=!0;return n===r&&(n=r.slice()),n.push(e),function(){t&&r!==CLEARED&&(t=!1,n===r&&(n=r.slice()),n.splice(n.indexOf(e),1))}}}}var Subscription=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=nullListeners,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=createListenerCollection())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=nullListeners)},e}(),Provider=function(i){function e(e){var t;t=i.call(this,e)||this;var r=e.store;t.notifySubscribers=t.notifySubscribers.bind(_assertThisInitialized$1(t));var n=new Subscription(r);return n.onStateChange=t.notifySubscribers,t.state={store:r,subscription:n},t.previousState=r.getState(),t}_inheritsLoose(e,i);var t=e.prototype;return t.componentDidMount=function(){this._isMounted=!0,this.state.subscription.trySubscribe(),this.previousState!==this.props.store.getState()&&this.state.subscription.notifyNestedSubs()},t.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this.state.subscription.tryUnsubscribe(),this._isMounted=!1},t.componentDidUpdate=function(e){if(this.props.store!==e.store){this.state.subscription.tryUnsubscribe();var t=new Subscription(this.props.store);t.onStateChange=this.notifySubscribers,this.setState({store:this.props.store,subscription:t})}},t.notifySubscribers=function(){this.state.subscription.notifyNestedSubs()},t.render=function(){var e=this.props.context||ReactReduxContext;return React__default.createElement(e.Provider,{value:this.state},this.props.children)},e}(React.Component);function _extends$1(){return(_extends$1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],0<=t.indexOf(r)||(i[r]=e[r]);return i}Provider.propTypes={store:propTypes.shape({subscribe:propTypes.func.isRequired,dispatch:propTypes.func.isRequired,getState:propTypes.func.isRequired}),context:propTypes.object,children:propTypes.any};var reactIs_production_min=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,a=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,p=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,l=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case l:case o:case a:case s:case h:return e;default:switch(e=e&&e.$$typeof){case p:case d:case c:return e;default:return t}}case m:case f:case i:return t}}}function g(e){return v(e)===l}t.typeOf=v,t.AsyncMode=u,t.ConcurrentMode=l,t.ContextConsumer=p,t.ContextProvider=c,t.Element=n,t.ForwardRef=d,t.Fragment=o,t.Lazy=m,t.Memo=f,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===l||e===a||e===s||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===c||e.$$typeof===p||e.$$typeof===d)},t.isAsyncMode=function(e){return g(e)||v(e)===u},t.isConcurrentMode=g,t.isContextConsumer=function(e){return v(e)===p},t.isContextProvider=function(e){return v(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return v(e)===d},t.isFragment=function(e){return v(e)===o},t.isLazy=function(e){return v(e)===m},t.isMemo=function(e){return v(e)===f},t.isPortal=function(e){return v(e)===i},t.isProfiler=function(e){return v(e)===a},t.isStrictMode=function(e){return v(e)===s},t.isSuspense=function(e){return v(e)===h}});unwrapExports(reactIs_production_min);var reactIs_production_min_1=reactIs_production_min.typeOf,reactIs_production_min_2=reactIs_production_min.AsyncMode,reactIs_production_min_3=reactIs_production_min.ConcurrentMode,reactIs_production_min_4=reactIs_production_min.ContextConsumer,reactIs_production_min_5=reactIs_production_min.ContextProvider,reactIs_production_min_6=reactIs_production_min.Element,reactIs_production_min_7=reactIs_production_min.ForwardRef,reactIs_production_min_8=reactIs_production_min.Fragment,reactIs_production_min_9=reactIs_production_min.Lazy,reactIs_production_min_10=reactIs_production_min.Memo,reactIs_production_min_11=reactIs_production_min.Portal,reactIs_production_min_12=reactIs_production_min.Profiler,reactIs_production_min_13=reactIs_production_min.StrictMode,reactIs_production_min_14=reactIs_production_min.Suspense,reactIs_production_min_15=reactIs_production_min.isValidElementType,reactIs_production_min_16=reactIs_production_min.isAsyncMode,reactIs_production_min_17=reactIs_production_min.isConcurrentMode,reactIs_production_min_18=reactIs_production_min.isContextConsumer,reactIs_production_min_19=reactIs_production_min.isContextProvider,reactIs_production_min_20=reactIs_production_min.isElement,reactIs_production_min_21=reactIs_production_min.isForwardRef,reactIs_production_min_22=reactIs_production_min.isFragment,reactIs_production_min_23=reactIs_production_min.isLazy,reactIs_production_min_24=reactIs_production_min.isMemo,reactIs_production_min_25=reactIs_production_min.isPortal,reactIs_production_min_26=reactIs_production_min.isProfiler,reactIs_production_min_27=reactIs_production_min.isStrictMode,reactIs_production_min_28=reactIs_production_min.isSuspense,reactIs=createCommonjsModule(function(e){e.exports=reactIs_production_min}),reactIs_1=reactIs.isValidElementType,reactIs_2=reactIs.isContextConsumer,REACT_STATICS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};function getStatics(e){return reactIs.isMemo(e)?MEMO_STATICS:TYPE_STATICS[e.$$typeof]||REACT_STATICS}TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;var defineProperty=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf,objectPrototype=Object.prototype;function hoistNonReactStatics(e,t,r){if("string"==typeof t)return e;if(objectPrototype){var n=getPrototypeOf(t);n&&n!==objectPrototype&&hoistNonReactStatics(e,n,r)}var i=getOwnPropertyNames(t);getOwnPropertySymbols&&(i=i.concat(getOwnPropertySymbols(t)));for(var o=getStatics(e),s=getStatics(t),a=0;a<i.length;++a){var c=i[a];if(!(KNOWN_STATICS[c]||r&&r[c]||s&&s[c]||o&&o[c])){var p=getOwnPropertyDescriptor(t,c);try{defineProperty(e,c,p)}catch(e){}}}return e}var hoistNonReactStatics_cjs=hoistNonReactStatics,invariant=function(e,t,r,n,i,o,s,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[r,n,i,o,s,a],u=0;(c=new Error(t.replace(/%s/g,function(){return p[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}},invariant_1=invariant,EMPTY_ARRAY=[],NO_SUBSCRIPTION_ARRAY=[null,null];function storeStateUpdatesReducer(e,t){var r=e[1];return[t.payload,r+1]}var initStateUpdates=function(){return[null,0]},useIsomorphicLayoutEffect="undefined"!=typeof window?React.useLayoutEffect:React.useEffect;function connectAdvanced(R,e){void 0===e&&(e={});var t=e,r=t.getDisplayName,o=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,n=t.methodName,s=void 0===n?"connectAdvanced":n,i=t.renderCountProp,a=void 0===i?void 0:i,c=t.shouldHandleStateChanges,O=void 0===c||c,p=t.storeKey,u=void 0===p?"store":p,l=t.withRef,d=void 0!==l&&l,h=t.forwardRef,f=void 0!==h&&h,m=t.context,v=void 0===m?ReactReduxContext:m,g=_objectWithoutPropertiesLoose(t,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);invariant_1(void 0===a,"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension"),invariant_1(!d,"withRef is removed. To access the wrapped instance, use a ref on the connected component");invariant_1("store"===u,"storeKey has been removed and does not do anything. To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect");var D=v;return function(w){var e=w.displayName||w.name||"Component",T=o(e),P=_extends$1({},g,{getDisplayName:o,methodName:s,renderCountProp:a,shouldHandleStateChanges:O,storeKey:u,displayName:T,wrappedComponentName:e,WrappedComponent:w}),t=g.pure;var C=t?React.useMemo:function(e){return e()};function r(e){var t=React.useMemo(function(){return[e.context,e.forwardedRef,_objectWithoutPropertiesLoose(e,["context","forwardedRef"])]},[e]),r=t[0],n=t[1],i=t[2],o=React.useMemo(function(){return r&&r.Consumer&&reactIs_2(React__default.createElement(r.Consumer,null))?r:D},[r,D]),s=React.useContext(o),a=Boolean(e.store),c=Boolean(s)&&Boolean(s.store);invariant_1(a||c,'Could not find "store" in the context of "'+T+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+T+" in connect options.");var p=e.store||s.store,u=React.useMemo(function(){return function(e){return R(e.dispatch,P)}(p)},[p]),l=React.useMemo(function(){if(!O)return NO_SUBSCRIPTION_ARRAY;var e=new Subscription(p,a?null:s.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[p,a,s]),d=l[0],h=l[1],f=React.useMemo(function(){return a?s:_extends$1({},s,{subscription:d})},[a,s,d]),m=React.useReducer(storeStateUpdatesReducer,EMPTY_ARRAY,initStateUpdates),v=m[0][0],g=m[1];if(v&&v.error)throw v.error;var y=React.useRef(),_=React.useRef(i),b=React.useRef(),x=React.useRef(!1),E=C(function(){return b.current&&i===_.current?b.current:u(p.getState(),i)},[p,v,i]);useIsomorphicLayoutEffect(function(){_.current=i,y.current=E,x.current=!1,b.current&&(b.current=null,h())}),useIsomorphicLayoutEffect(function(){if(O){var n=!1,i=null,e=function(){if(!n){var e,t,r=p.getState();try{e=u(r,_.current)}catch(e){i=t=e}t||(i=null),e===y.current?x.current||h():(y.current=e,b.current=e,x.current=!0,g({type:"STORE_UPDATED",payload:{latestStoreState:r,error:t}}))}};d.onStateChange=e,d.trySubscribe(),e();return function(){if(n=!0,d.tryUnsubscribe(),i)throw i}}},[p,d,u]);var S=React.useMemo(function(){return React__default.createElement(w,_extends$1({},E,{ref:n}))},[n,w,E]);return React.useMemo(function(){return O?React__default.createElement(o.Provider,{value:f},S):S},[o,S,f])}var n=t?React__default.memo(r):r;if(n.WrappedComponent=w,n.displayName=T,f){var i=React__default.forwardRef(function(e,t){return React__default.createElement(n,_extends$1({},e,{forwardedRef:t}))});return i.displayName=T,i.WrappedComponent=w,hoistNonReactStatics_cjs(i,w)}return hoistNonReactStatics_cjs(n,w)}}var root,hasOwn=Object.prototype.hasOwnProperty;function is(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function shallowEqual(e,t){if(is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(!hasOwn.call(t,r[i])||!is(e[r[i]],t[r[i]]))return!1;return!0}function symbolObservablePonyfill(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}var result=symbolObservablePonyfill(root="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")()),randomString=function(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function createStore(e,t,r){var n;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(createStore)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var i=e,o=t,s=[],a=s,c=!1;function p(){a===s&&(a=s.slice())}function u(){if(c)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return o}function l(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(c)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var r=!0;return p(),a.push(t),function(){if(r){if(c)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");r=!1,p();var e=a.indexOf(t);a.splice(e,1)}}}function d(e){if(!isPlainObject(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,o=i(o,e)}finally{c=!1}for(var t=s=a,r=0;r<t.length;r++){(0,t[r])()}return e}return d({type:ActionTypes.INIT}),(n={dispatch:d,subscribe:l,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");i=e,d({type:ActionTypes.REPLACE})}})[result]=function(){var e,r=l;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function t(){e.next&&e.next(u())}return t(),{unsubscribe:r(t)}}})[result]=function(){return this},e},n}function getUndefinedStateErrorMessage(e,t){var r=t&&t.type;return"Given "+(r&&'action "'+String(r)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function assertReducerShape(r){Object.keys(r).forEach(function(e){var t=r[e];if(void 0===t(void 0,{type:ActionTypes.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===t(void 0,{type:ActionTypes.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function combineReducers(e){for(var t=Object.keys(e),u={},r=0;r<t.length;r++){var n=t[r];"function"==typeof e[n]&&(u[n]=e[n])}var l,d=Object.keys(u);try{assertReducerShape(u)}catch(e){l=e}return function(e,t){if(void 0===e&&(e={}),l)throw l;for(var r=!1,n={},i=0;i<d.length;i++){var o=d[i],s=u[o],a=e[o],c=s(a,t);if(void 0===c){var p=getUndefinedStateErrorMessage(o,t);throw new Error(p)}n[o]=c,r=r||c!==a}return r?n:e}}function bindActionCreator(e,t){return function(){return t(e.apply(this,arguments))}}function bindActionCreators(e,t){if("function"==typeof e)return bindActionCreator(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),n={},i=0;i<r.length;i++){var o=r[i],s=e[o];"function"==typeof s&&(n[o]=bindActionCreator(s,t))}return n}function compose(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function wrapMapToPropsConstant(i){return function(e,t){var r=i(e,t);function n(){return r}return n.dependsOnOwnProps=!1,n}}function getDependsOnOwnProps(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function wrapMapToPropsFunc(i,e){return function(e,t){t.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(e,t){n.mapToProps=i,n.dependsOnOwnProps=getDependsOnOwnProps(i);var r=n(e,t);return"function"==typeof r&&(n.mapToProps=r,n.dependsOnOwnProps=getDependsOnOwnProps(r),r=n(e,t)),r},n}}function whenMapDispatchToPropsIsFunction(e){return"function"==typeof e?wrapMapToPropsFunc(e,"mapDispatchToProps"):void 0}function whenMapDispatchToPropsIsMissing(e){return e?void 0:wrapMapToPropsConstant(function(e){return{dispatch:e}})}function whenMapDispatchToPropsIsObject(t){return t&&"object"==typeof t?wrapMapToPropsConstant(function(e){return bindActionCreators(t,e)}):void 0}var defaultMapDispatchToPropsFactories=[whenMapDispatchToPropsIsFunction,whenMapDispatchToPropsIsMissing,whenMapDispatchToPropsIsObject];function whenMapStateToPropsIsFunction(e){return"function"==typeof e?wrapMapToPropsFunc(e,"mapStateToProps"):void 0}function whenMapStateToPropsIsMissing(e){return e?void 0:wrapMapToPropsConstant(function(){return{}})}var defaultMapStateToPropsFactories=[whenMapStateToPropsIsFunction,whenMapStateToPropsIsMissing];function defaultMergeProps(e,t,r){return _extends$1({},r,e,t)}function wrapMergePropsFunc(c){return function(e,t){t.displayName;var i,o=t.pure,s=t.areMergedPropsEqual,a=!1;return function(e,t,r){var n=c(e,t,r);return a?o&&s(n,i)||(i=n):(a=!0,i=n),i}}}function whenMergePropsIsFunction(e){return"function"==typeof e?wrapMergePropsFunc(e):void 0}function whenMergePropsIsOmitted(e){return e?void 0:function(){return defaultMergeProps}}var defaultMergePropsFactories=[whenMergePropsIsFunction,whenMergePropsIsOmitted];function impureFinalPropsSelectorFactory(r,n,i,o){return function(e,t){return i(r(e,t),n(o,t),t)}}function pureFinalPropsSelectorFactory(i,o,s,a,e){var c,p,u,l,d,h=e.areStatesEqual,f=e.areOwnPropsEqual,m=e.areStatePropsEqual,r=!1;function n(e,t){var r=!f(t,p),n=!h(e,c);return c=e,p=t,r&&n?(u=i(c,p),o.dependsOnOwnProps&&(l=o(a,p)),d=s(u,l,p)):r?(i.dependsOnOwnProps&&(u=i(c,p)),o.dependsOnOwnProps&&(l=o(a,p)),d=s(u,l,p)):n?function(){var e=i(c,p),t=!m(e,u);return u=e,t&&(d=s(u,l,p)),d}():d}return function(e,t){return r?n(e,t):function(e,t){return u=i(c=e,p=t),l=o(a,p),d=s(u,l,p),r=!0,d}(e,t)}}function finalPropsSelectorFactory(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,i=t.initMergeProps,o=_objectWithoutPropertiesLoose(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),s=r(e,o),a=n(e,o),c=i(e,o);return(o.pure?pureFinalPropsSelectorFactory:impureFinalPropsSelectorFactory)(s,a,c,e,o)}function match(r,e,n){for(var t=e.length-1;0<=t;t--){var i=e[t](r);if(i)return i}return function(e,t){throw new Error("Invalid value of type "+typeof r+" for "+n+" argument when connecting component "+t.wrappedComponentName+".")}}function strictEqual(e,t){return e===t}function createConnect(e){var t=void 0===e?{}:e,r=t.connectHOC,_=void 0===r?connectAdvanced:r,n=t.mapStateToPropsFactories,b=void 0===n?defaultMapStateToPropsFactories:n,i=t.mapDispatchToPropsFactories,x=void 0===i?defaultMapDispatchToPropsFactories:i,o=t.mergePropsFactories,E=void 0===o?defaultMergePropsFactories:o,s=t.selectorFactory,S=void 0===s?finalPropsSelectorFactory:s;return function(e,t,r,n){void 0===n&&(n={});var i=n,o=i.pure,s=void 0===o||o,a=i.areStatesEqual,c=void 0===a?strictEqual:a,p=i.areOwnPropsEqual,u=void 0===p?shallowEqual:p,l=i.areStatePropsEqual,d=void 0===l?shallowEqual:l,h=i.areMergedPropsEqual,f=void 0===h?shallowEqual:h,m=_objectWithoutPropertiesLoose(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),v=match(e,b,"mapStateToProps"),g=match(t,x,"mapDispatchToProps"),y=match(r,E,"mergeProps");return _(S,_extends$1({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:v,initMapDispatchToProps:g,initMergeProps:y,pure:s,areStatesEqual:c,areOwnPropsEqual:u,areStatePropsEqual:d,areMergedPropsEqual:f},m))}}var connect=createConnect();setBatch(ReactDOM.unstable_batchedUpdates);var VIDEO_EVENTS=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Video=function(e){function n(t){var r;return _classCallCheck(this,n),_defineProperty(_assertThisInitialized(r=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this,t))),"togglePlay",function(){r.state.paused?r.videoEl.current.play():r.videoEl.current.pause()}),_defineProperty(_assertThisInitialized(r),"seek",function(e){r.videoEl.current.currentTime=e}),_defineProperty(_assertThisInitialized(r),"onFocus",function(){r.setState({focused:!0})}),r.state={networkState:0,paused:!t.autoPlay,muted:!!t.muted,volume:1,error:!1,loading:!1},r.videoProps=Object.assign.apply(Object,[{}].concat(_toConsumableArray(Object.keys(t).filter(function(e){return!["store","crops","dispatch","children","onTimeUpdate"].includes(e)}).map(function(e){return _defineProperty({},e,t[e])})))),r.videoEl=React__default.createRef(),r}return _inherits(n,React__default.Component),_createClass(n,[{key:"componentWillMount",value:function(){var r=this;this.mediaEventProps=VIDEO_EVENTS.reduce(function(e,t){return e[t]=function(e){t in r.props&&"function"==typeof r.props[t]&&r.props[t](e),r.updateStateFromVideo(),r.props.dispatch({type:"VIDEO",name:e.type})},e},{})}},{key:"toggleMute",value:function(){this.videoEl.current.muted=!this.state.muted}},{key:"load",value:function(){this.videoEl.current.load()}},{key:"setVolume",value:function(e){this.videoEl.current.volume=e}},{key:"updateStateFromVideo",value:function(){this.videoEl.current.currentTime/this.videoEl.current.duration*100>this.props.crop_end&&(this.videoEl.current.currentTime=this.props.crop_start/100*this.videoEl.current.duration),this.setState({duration:this.videoEl.current.duration,currentTime:this.videoEl.current.currentTime,buffered:this.videoEl.current.buffered,paused:this.videoEl.current.paused,muted:this.videoEl.current.muted,volume:this.videoEl.current.volume,readyState:this.videoEl.current.readyState,percentageBuffered:this.videoEl.current.buffered&&this.videoEl.current.buffered.length&&this.videoEl.current.buffered.end(this.videoEl.current.buffered.length-1)/this.videoEl.current.duration*100,percentagePlayed:this.videoEl.current.currentTime?this.videoEl.current.currentTime/this.videoEl.current.duration*100:0,error:this.videoEl.current.networkState===this.videoEl.current.NETWORK_NO_SOURCE,loading:this.videoEl.current.readyState<this.videoEl.current.HAVE_ENOUGH_DATA})}},{key:"renderControls",value:function(){var r=Object.assign({togglePlay:this.togglePlay,toggleMute:this.toggleMute,play:this.play,pause:this.pause,seek:this.seek,fullscreen:this.fullscreen,setVolume:this.setVolume},this.state,this.props);return React__default.Children.map(this.props.children,function(e,t){if("source"!==e.type)return React__default.cloneElement(e,r)})}},{key:"renderSources",value:function(){return React__default.Children.map(this.props.children,function(e,t){if("source"===e.type)return e})}},{key:"getVideoClassName",value:function(){var e="video";return this.state.error?e+=" video--error":this.state.loading?e+=" video--loading":this.state.paused?e+=" video--paused":e+=" video--playing",this.state.focused&&(e+=" video--focused"),e}},{key:"render",value:function(){return console.log("Rendering video"),React__default.createElement("div",{className:this.getVideoClassName(),tabIndex:"0",onFocus:this.onFocus},React__default.createElement("video",_extends({preload:"metadata",className:"video__el"},this.videoProps,this.mediaEventProps,{ref:this.videoEl}),this.renderSources()),this.renderControls())}}]),n}();function mapStateToProps(e){return{crop_start:e.crop_start,crop_end:e.crop_end}}Video.propTypes={children:propTypes.node,autoPlay:propTypes.bool,muted:propTypes.bool,controls:propTypes.bool,onTimeUpdate:propTypes.func},Video.defaultProps={onTimeUpdate:function(e){}};var RdxVideo=connect(mapStateToProps)(Video),Time=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,React__default.Component),_createClass(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.currentTime!==e.currentTime||this.props.duration!==e.duration}},{key:"formatTime",value:function(e){var t=new Date(null);return e=isNaN(e)?0:Math.floor(e),t.setSeconds(e),t.toISOString().substr(11,8)}},{key:"render",value:function(){return React__default.createElement("div",{className:"video-time video__control"},React__default.createElement("span",{className:"video-time__current"},this.formatTime(this.props.currentTime)),"/",React__default.createElement("span",{className:"video-time__duration"},this.formatTime(this.props.duration)))}}]),t}();function Icon(e){return React__default.createElement("span",{className:"video-icon video-icon--"+e.name})}Time.propTypes={currentTime:propTypes.number,duration:propTypes.number},Icon.propTypes={name:propTypes.oneOf(["play-1","volume-off","volume-down","volume-up","resize-full","resize-small","pause-1","crop","crop-begin","crop-end","pic"])};var Play=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,React__default.Component),_createClass(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.paused!==e.paused||this.props.togglePlay!==e.togglePlay}},{key:"render",value:function(){var e=this;return React__default.createElement("button",{className:"video-play video__control",onClick:function(){e.props.togglePlay()}},this.props.paused?React__default.createElement(Icon,{name:"play-1"}):React__default.createElement(Icon,{name:"pause-1"}))}}]),t}();Play.propTypes={copyKeys:propTypes.object,togglePlay:propTypes.func,paused:propTypes.bool};var ProgressBar=function(e){function o(){var e,t;_classCallCheck(this,o);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return _defineProperty(_assertThisInitialized(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(o)).call.apply(e,[this].concat(n)))),"onChange",function(e){t.props.onChange(e)}),t}return _inherits(o,React__default.Component),_createClass(o,[{key:"render",value:function(){return React__default.createElement("div",{id:"video-progress-bar",className:"video-progress-bar "+("horizontal"===this.props.orientation?"video-progress-bar--horizontal":"video-progress-bar--vertical")},React__default.createElement("div",{className:"video-progress-bar__fill",style:_defineProperty({},"width",this.props.progress+"%")}),React__default.createElement("input",{className:"video-progress-bar__input",onBlur:this.props.onBlur,onFocus:this.props.onFocus,ref:"input",onChange:this.onChange,type:"range",min:"0",max:"100",value:this.props.progress,step:this.props.step}))}}]),o}();ProgressBar.propTypes={orientation:propTypes.string,step:propTypes.number,progress:propTypes.number,onChange:propTypes.func,onFocus:propTypes.func,onBlur:propTypes.func},ProgressBar.defaultProps={orientation:"horizontal",step:.1,progress:0,onChange:function(){},onFocus:function(){},onBlur:function(){}};var interact=createCommonjsModule(function(ct,pt){!function(n){if(n){var c,E,d,u,h,f,m,v,g,e,i=(e=n.document.createTextNode("")).ownerDocument!==n.document&&"function"==typeof n.wrap&&n.wrap(e)===e?n.wrap(n):n,s=i.document,t=i.DocumentFragment||ee,l=i.SVGElement||ee,y=i.SVGSVGElement||ee,r=i.SVGElementInstance||ee,_=i.HTMLElement||i.Element,o=i.PointerEvent||i.MSPointerEvent,D=Math.hypot||function(e,t){return Math.sqrt(e*e+t*t)},a={},p=[],S=[],b=[],x=!1,w={},M={base:{accept:null,actionChecker:null,styleCursor:!0,preventDefault:"auto",origin:{x:0,y:0},deltaSource:"page",allowFrom:null,ignoreFrom:null,_context:s,dropChecker:null},drag:{enabled:!1,manualStart:!0,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,axis:"xy"},drop:{enabled:!1,accept:null,overlap:"pointer"},resize:{enabled:!1,manualStart:!1,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},gesture:{manualStart:!1,enabled:!1,max:1/0,maxPerElement:1,restrict:null},perAction:{manualStart:!1,max:1/0,maxPerElement:1,snap:{enabled:!1,endOnly:!1,range:1/0,targets:null,offsets:null,relativePoints:null},restrict:{enabled:!1,endOnly:!1},autoScroll:{enabled:!1,container:null,margin:60,speed:300},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,zeroResumeDelta:!0,smoothEndDuration:300}},_holdDuration:600},T={interaction:null,i:null,x:0,y:0,scroll:function(){var e,t,r,n,i=T.interaction.target.options[T.interaction.prepared.name].autoScroll,o=i.container||xe(T.interaction.element),s=(new Date).getTime(),a=(s-T.prevTimeX)/1e3,c=(s-T.prevTimeY)/1e3;i.velocity?(e=i.velocity.x,t=i.velocity.y):e=t=i.speed,n=t*c,(1<=(r=e*a)||1<=n)&&(re(o)?o.scrollBy(T.x*r,T.y*n):o&&(o.scrollLeft+=T.x*r,o.scrollTop+=T.y*n),1<=r&&(T.prevTimeX=s),1<=n&&(T.prevTimeY=s)),T.isScrolling&&(U(T.i),T.i=W(T.scroll))},isScrolling:!1,prevTimeX:0,prevTimeY:0,start:function(e){T.isScrolling=!0,U(T.i),T.interaction=e,T.prevTimeX=(new Date).getTime(),T.prevTimeY=(new Date).getTime(),T.i=W(T.scroll)},stop:function(){T.isScrolling=!1,U(T.i)}},P="ontouchstart"in i||i.DocumentTouch&&s instanceof i.DocumentTouch,C=o&&!/Chrome/.test(navigator.userAgent),R=P||C?20:10,O=1,I=0,z=1/0,A=s.all&&!i.atob?{drag:"move",resizex:"e-resize",resizey:"s-resize",resizexy:"se-resize",resizetop:"n-resize",resizeleft:"w-resize",resizebottom:"s-resize",resizeright:"e-resize",resizetopleft:"se-resize",resizebottomright:"se-resize",resizetopright:"ne-resize",resizebottomleft:"ne-resize",gesture:""}:{drag:"move",resizex:"ew-resize",resizey:"ns-resize",resizexy:"nwse-resize",resizetop:"ns-resize",resizeleft:"ew-resize",resizebottom:"ns-resize",resizeright:"ew-resize",resizetopleft:"nwse-resize",resizebottomright:"nwse-resize",resizetopright:"nesw-resize",resizebottomleft:"nesw-resize",gesture:""},k={drag:!0,resize:!0,gesture:!0},N="onmousewheel"in s?"mousewheel":"wheel",F=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","down","move","up","cancel","tap","doubletap","hold"],j={},Y="Opera"==navigator.appName&&P&&navigator.userAgent.match("Presto"),X=/iP(hone|od|ad)/.test(navigator.platform)&&/OS 7[^\d]/.test(navigator.appVersion),q="matches"in Element.prototype?"matches":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",W=n.requestAnimationFrame,U=n.cancelAnimationFrame,$=(u=(d="attachEvent"in i&&!("addEventListener"in i))?"attachEvent":"addEventListener",h=d?"detachEvent":"removeEventListener",f=d?"on":"",{add:function(t,e,r,n){var i=it(m,t),o=v[i];if(o||(o={events:{},typeCount:0},i=m.push(t)-1,v.push(o),g.push(d?{supplied:[],wrapped:[],useCount:[]}:null)),o.events[e]||(o.events[e]=[],o.typeCount++),!ot(o.events[e],r)){var s;if(d){var a=g[i],c=it(a.supplied,r),p=a.wrapped[c]||function(e){e.immediatePropagationStopped||(e.target=e.srcElement,e.currentTarget=t,e.preventDefault=e.preventDefault||J,e.stopPropagation=e.stopPropagation||Q,e.stopImmediatePropagation=e.stopImmediatePropagation||Z,/mouse|click/.test(e.type)&&(e.pageX=e.clientX+xe(t).document.documentElement.scrollLeft,e.pageY=e.clientY+xe(t).document.documentElement.scrollTop),r(e))};s=t[u](f+e,p,Boolean(n)),-1===c?(a.supplied.push(r),a.wrapped.push(p),a.useCount.push(1)):a.useCount[c]++}else s=t[u](e,r,n||!1);return o.events[e].push(r),s}},remove:function e(t,r,n,i){var o,s,a,c=it(m,t),p=v[c],u=n;if(p&&p.events)if(d&&(a=it((s=g[c]).supplied,n),u=s.wrapped[a]),"all"!==r){if(p.events[r]){var l=p.events[r].length;if("all"===n){for(o=0;o<l;o++)e(t,r,p.events[r][o],Boolean(i));return}for(o=0;o<l;o++)if(p.events[r][o]===n){t[h](f+r,u,i||!1),p.events[r].splice(o,1),d&&s&&(s.useCount[a]--,0===s.useCount[a]&&(s.supplied.splice(a,1),s.wrapped.splice(a,1),s.useCount.splice(a,1)));break}p.events[r]&&0===p.events[r].length&&(p.events[r]=null,p.typeCount--)}p.typeCount||(v.splice(c,1),m.splice(c,1),g.splice(c,1))}else for(r in p.events)p.events.hasOwnProperty(r)&&e(t,r,"all")},useAttachEvent:d,_elements:m=[],_targets:v=[],_attachedListeners:g=[]}),L={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/};We.prototype={getPageXY:function(e,t){return ge(e,t)},getClientXY:function(e,t){return ye(e,t)},setEventXY:function(e,t){return function(e,t,r){var n=1<t.length?Te(t):t[0];ge(n,a),e.page.x=a.x,e.page.y=a.y,ye(n,a),e.client.x=a.x,e.client.y=a.y,e.timeStamp=(new Date).getTime()}(e,t)},pointerOver:function(e,t,r){if(!this.prepared.name&&this.mouse){var n=[],i=[],o=this.element;this.addPointer(e),!this.target||!Ne(this.target,this.element,r)&&Fe(this.target,this.element,r)||(this.target=null,this.element=null,this.matches=[],this.matchElements=[]);var s=S.get(r),a=s&&!Ne(s,r,r)&&Fe(s,r,r)&&Ge(s.getAction(e,t,this,r),s);a&&!qe(s,r,a)&&(a=null),a?(this.target=s,this.element=r,this.matches=[],this.matchElements=[]):(S.forEachSelector(function(e,t){e&&ke(e,r)&&!Ne(e,r,r)&&Fe(e,r,r)&&st(r,t)&&(n.push(e),i.push(r))}),this.validateSelector(e,t,n,i)?(this.matches=n,this.matchElements=i,this.pointerHover(e,t,this.matches,this.matchElements),$.add(r,C?c.move:"mousemove",B.pointerHover)):this.target&&(Ie(o,r)?(this.pointerHover(e,t,this.matches,this.matchElements),$.add(this.element,C?c.move:"mousemove",B.pointerHover)):(this.target=null,this.element=null,this.matches=[],this.matchElements=[])))}},pointerHover:function(e,t,r,n,i,o){var s,a=this.target;!this.prepared.name&&this.mouse?(this.setEventXY(this.curCoords,[e]),i?s=this.validateSelector(e,t,i,o):a&&(s=Ge(a.getAction(this.pointers[0],t,this,this.element),this.target)),a&&a.options.styleCursor&&(a._doc.documentElement.style.cursor=s?Ve(s):"")):this.prepared.name&&this.checkAndPreventDefault(t,a,this.element)},pointerOut:function(e,t,r){this.prepared.name||(S.get(r)||$.remove(r,C?c.move:"mousemove",B.pointerHover),this.target&&this.target.options.styleCursor&&!this.interacting()&&(this.target._doc.documentElement.style.cursor=""))},selectorDown:function(e,t,i,r){var n,o=this,s=$.useAttachEvent?le({},t):t,a=i,c=this.addPointer(e);if(this.holdTimers[c]=setTimeout(function(){o.pointerHold($.useAttachEvent?s:e,s,i,r)},M._holdDuration),this.pointerIsDown=!0,this.inertiaStatus.active&&this.target.selector)for(;te(a);){if(a===this.element&&Ge(this.target.getAction(e,t,this,this.element),this.target).name===this.prepared.name)return U(this.inertiaStatus.i),this.inertiaStatus.active=!1,void this.collectEventTargets(e,t,i,"down");a=Ae(a)}if(this.interacting())this.collectEventTargets(e,t,i,"down");else{for(this.setEventXY(this.curCoords,[e]),this.downEvent=t;te(a)&&!n;)this.matches=[],this.matchElements=[],S.forEachSelector(p),n=this.validateSelector(e,t,this.matches,this.matchElements),a=Ae(a);if(n)return this.prepared.name=n.name,this.prepared.axis=n.axis,this.prepared.edges=n.edges,this.collectEventTargets(e,t,i,"down"),this.pointerDown(e,t,i,r,n);this.downTimes[c]=(new Date).getTime(),this.downTargets[c]=i,de(this.downPointer,e),he(this.prevCoords,this.curCoords),this.pointerWasMoved=!1,this.collectEventTargets(e,t,i,"down")}function p(e,t,r){var n=E?r.querySelectorAll(t):void 0;ke(e,a)&&!Ne(e,a,i)&&Fe(e,a,i)&&st(a,t,n)&&(o.matches.push(e),o.matchElements.push(a))}},pointerDown:function(e,t,r,n,i){if(i||this.inertiaStatus.active||!this.pointerWasMoved||!this.prepared.name){this.pointerIsDown=!0,this.downEvent=t;var o,s=this.addPointer(e);if(1<this.pointerIds.length&&this.target._element===this.element){var a=Ge(i||this.target.getAction(e,t,this,this.element),this.target);qe(this.target,this.element,a)&&(o=a),this.prepared.name=null}else if(!this.prepared.name){var c=S.get(n);c&&!Ne(c,n,r)&&Fe(c,n,r)&&(o=Ge(i||c.getAction(e,t,this,n),c))&&qe(c,n,o)&&(this.target=c,this.element=n)}var p=this.target,u=p&&p.options;if(!p||!i&&this.prepared.name)this.inertiaStatus.active&&n===this.element&&Ge(p.getAction(e,t,this,this.element),p).name===this.prepared.name&&(U(this.inertiaStatus.i),this.inertiaStatus.active=!1,this.checkAndPreventDefault(t,p,this.element));else{if(o=o||Ge(i||p.getAction(e,t,this,n),p,this.element),this.setEventXY(this.startCoords,this.pointers),!o)return;u.styleCursor&&(p._doc.documentElement.style.cursor=Ve(o)),this.resizeAxes="resize"===o.name?o.axis:null,"gesture"===o&&this.pointerIds.length<2&&(o=null),this.prepared.name=o.name,this.prepared.axis=o.axis,this.prepared.edges=o.edges,this.snapStatus.snappedX=this.snapStatus.snappedY=this.restrictStatus.restrictedX=this.restrictStatus.restrictedY=NaN,this.downTimes[s]=(new Date).getTime(),this.downTargets[s]=r,de(this.downPointer,e),he(this.prevCoords,this.startCoords),this.pointerWasMoved=!1,this.checkAndPreventDefault(t,p,this.element)}}else this.checkAndPreventDefault(t,this.target,this.element)},setModifications:function(e,t){var r=this.target,n=!0,i=Ye(r,this.prepared.name)&&(!r.options[this.prepared.name].snap.endOnly||t),o=Xe(r,this.prepared.name)&&(!r.options[this.prepared.name].restrict.endOnly||t);return i?this.setSnapping(e):this.snapStatus.locked=!1,o?this.setRestriction(e):this.restrictStatus.restricted=!1,i&&this.snapStatus.locked&&!this.snapStatus.changed?n=o&&this.restrictStatus.restricted&&this.restrictStatus.changed:o&&this.restrictStatus.restricted&&!this.restrictStatus.changed&&(n=!1),n},setStartOffsets:function(e,t,r){var n,i,o=t.getRect(r),s=Oe(t,r),a=t.options[this.prepared.name].snap,c=t.options[this.prepared.name].restrict;o?(this.startOffset.left=this.startCoords.page.x-o.left,this.startOffset.top=this.startCoords.page.y-o.top,this.startOffset.right=o.right-this.startCoords.page.x,this.startOffset.bottom=o.bottom-this.startCoords.page.y,n="width"in o?o.width:o.right-o.left,i="height"in o?o.height:o.bottom-o.top):this.startOffset.left=this.startOffset.top=this.startOffset.right=this.startOffset.bottom=0,this.snapOffsets.splice(0);var p=a&&"startCoords"===a.offset?{x:this.startCoords.page.x-s.x,y:this.startCoords.page.y-s.y}:a&&a.offset||{x:0,y:0};if(o&&a&&a.relativePoints&&a.relativePoints.length)for(var u=0;u<a.relativePoints.length;u++)this.snapOffsets.push({x:this.startOffset.left-n*a.relativePoints[u].x+p.x,y:this.startOffset.top-i*a.relativePoints[u].y+p.y});else this.snapOffsets.push(p);o&&c.elementRect?(this.restrictOffset.left=this.startOffset.left-n*c.elementRect.left,this.restrictOffset.top=this.startOffset.top-i*c.elementRect.top,this.restrictOffset.right=this.startOffset.right-n*(1-c.elementRect.right),this.restrictOffset.bottom=this.startOffset.bottom-i*(1-c.elementRect.bottom)):this.restrictOffset.left=this.restrictOffset.top=this.restrictOffset.right=this.restrictOffset.bottom=0},start:function(e,t,r){this.interacting()||!this.pointerIsDown||this.pointerIds.length<("gesture"===e.name?2:1)||(-1===it(b,this)&&b.push(this),this.prepared.name||this.setEventXY(this.startCoords,this.pointers),this.prepared.name=e.name,this.prepared.axis=e.axis,this.prepared.edges=e.edges,this.target=t,this.element=r,this.setStartOffsets(e.name,t,r),this.setModifications(this.startCoords.page),this.prevEvent=this[this.prepared.name+"Start"](this.downEvent))},pointerMove:function(e,t,i,r,n){if(this.inertiaStatus.active){var o=this.inertiaStatus.upCoords.page,s=this.inertiaStatus.upCoords.client,a={pageX:o.x+this.inertiaStatus.sx,pageY:o.y+this.inertiaStatus.sy,clientX:s.x+this.inertiaStatus.sx,clientY:s.y+this.inertiaStatus.sy};this.setEventXY(this.curCoords,[a])}else this.recordPointer(e),this.setEventXY(this.curCoords,this.pointers);var c,p,u=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y,l=this.mouse?0:it(this.pointerIds,_e(e));if(this.pointerIsDown&&!this.pointerWasMoved&&(c=this.curCoords.client.x-this.startCoords.client.x,p=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=D(c,p)>O),u||this.pointerIsDown&&!this.pointerWasMoved||(this.pointerIsDown&&clearTimeout(this.holdTimers[l]),this.collectEventTargets(e,t,i,"move")),this.pointerIsDown)if(u&&this.pointerWasMoved&&!n)this.checkAndPreventDefault(t,this.target,this.element);else if(fe(this.pointerDelta,this.prevCoords,this.curCoords),this.prepared.name){if(this.pointerWasMoved&&(!this.inertiaStatus.active||e instanceof Le&&/inertiastart/.test(e.type))){if(!this.interacting()&&(fe(this.pointerDelta,this.prevCoords,this.curCoords),"drag"===this.prepared.name)){var d=Math.abs(c),h=Math.abs(p),f=this.target.options.drag.axis,m=h<d?"x":d<h?"y":"xy";if("xy"!=m&&"xy"!==f&&f!==m){this.prepared.name=null;for(var v=i;te(v);){var g=S.get(v);if(g&&g!==this.target&&!g.options.drag.manualStart&&"drag"===g.getAction(this.downPointer,this.downEvent,this,v).name&&je(m,g)){this.prepared.name="drag",this.target=g,this.element=v;break}v=Ae(v)}if(!this.prepared.name){var y=this,_=function(e,t,r){var n=E?r.querySelectorAll(t):void 0;if(e!==y.target)return ke(e,i)&&!e.options.drag.manualStart&&!Ne(e,v,i)&&Fe(e,v,i)&&st(v,t,n)&&"drag"===e.getAction(y.downPointer,y.downEvent,y,v).name&&je(m,e)&&qe(e,v,"drag")?e:void 0};for(v=i;te(v);){var b=S.forEachSelector(_);if(b){this.prepared.name="drag",this.target=b,this.element=v;break}v=Ae(v)}}}}var x=!!this.prepared.name&&!this.interacting();if(x&&(this.target.options[this.prepared.name].manualStart||!qe(this.target,this.element,this.prepared)))return void this.stop(t);if(this.prepared.name&&this.target)x&&this.start(this.prepared,this.target,this.element),(this.setModifications(this.curCoords.page,n)||x)&&(this.prevEvent=this[this.prepared.name+"Move"](t)),this.checkAndPreventDefault(t,this.target,this.element)}he(this.prevCoords,this.curCoords),(this.dragging||this.resizing)&&this.autoScrollMove(e)}},dragStart:function(e){var t=new Le(this,e,"drag","start",this.element);this.dragging=!0,this.target.fire(t),this.activeDrops.dropzones=[],this.activeDrops.elements=[],this.activeDrops.rects=[],this.dynamicDrop||this.setActiveDrops(this.element);var r=this.getDropEvents(e,t);return r.activate&&this.fireActiveDrops(r.activate),t},dragMove:function(e){var t=this.target,r=new Le(this,e,"drag","move",this.element),n=this.element,i=this.getDrop(r,e,n);this.dropTarget=i.dropzone,this.dropElement=i.element;var o=this.getDropEvents(e,r);return t.fire(r),o.leave&&this.prevDropTarget.fire(o.leave),o.enter&&this.dropTarget.fire(o.enter),o.move&&this.dropTarget.fire(o.move),this.prevDropTarget=this.dropTarget,this.prevDropElement=this.dropElement,r},resizeStart:function(e){var t=new Le(this,e,"resize","start",this.element);if(this.prepared.edges){var r=this.target.getRect(this.element);if(this.target.options.resize.square||this.target.options.resize.preserveAspectRatio){var n=le({},this.prepared.edges);n.top=n.top||n.left&&!n.bottom,n.left=n.left||n.top&&!n.right,n.bottom=n.bottom||n.right&&!n.top,n.right=n.right||n.bottom&&!n.left,this.prepared._linkedEdges=n}else this.prepared._linkedEdges=null;this.target.options.resize.preserveAspectRatio&&(this.resizeStartAspectRatio=r.width/r.height),this.resizeRects={start:r,current:le({},r),restricted:le({},r),previous:le({},r),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},t.rect=this.resizeRects.restricted,t.deltaRect=this.resizeRects.delta}return this.target.fire(t),this.resizing=!0,t},resizeMove:function(e){var t=new Le(this,e,"resize","move",this.element),r=this.prepared.edges,n=this.target.options.resize.invert,i="reposition"===n||"negate"===n;if(r){var o,s=t.dx,a=t.dy,c=this.resizeRects.start,p=this.resizeRects.current,u=this.resizeRects.restricted,l=this.resizeRects.delta,d=le(this.resizeRects.previous,u),h=r;if(this.target.options.resize.preserveAspectRatio){var f=this.resizeStartAspectRatio;r=this.prepared._linkedEdges,h.left&&h.bottom||h.right&&h.top?a=-s/f:h.left||h.right?a=s/f:(h.top||h.bottom)&&(s=a*f)}else this.target.options.resize.square&&(r=this.prepared._linkedEdges,h.left&&h.bottom||h.right&&h.top?a=-s:h.left||h.right?a=s:(h.top||h.bottom)&&(s=a));if(r.top&&(p.top+=a),r.bottom&&(p.bottom+=a),r.left&&(p.left+=s),r.right&&(p.right+=s),i){if(le(u,p),"reposition"===n)u.top>u.bottom&&(o=u.top,u.top=u.bottom,u.bottom=o),u.left>u.right&&(o=u.left,u.left=u.right,u.right=o)}else u.top=Math.min(p.top,c.bottom),u.bottom=Math.max(p.bottom,c.top),u.left=Math.min(p.left,c.right),u.right=Math.max(p.right,c.left);for(var m in u.width=u.right-u.left,u.height=u.bottom-u.top,u)l[m]=u[m]-d[m];t.edges=this.prepared.edges,t.rect=u,t.deltaRect=l}return this.target.fire(t),t},gestureStart:function(e){var t=new Le(this,e,"gesture","start",this.element);return t.ds=0,this.gesture.startDistance=this.gesture.prevDistance=t.distance,this.gesture.startAngle=this.gesture.prevAngle=t.angle,this.gesture.scale=1,this.gesturing=!0,this.target.fire(t),t},gestureMove:function(e){return this.pointerIds.length?((t=new Le(this,e,"gesture","move",this.element)).ds=t.scale-this.gesture.scale,this.target.fire(t),this.gesture.prevAngle=t.angle,this.gesture.prevDistance=t.distance,t.scale===1/0||null===t.scale||void 0===t.scale||isNaN(t.scale)||(this.gesture.scale=t.scale),t):this.prevEvent;var t},pointerHold:function(e,t,r){this.collectEventTargets(e,t,r,"hold")},pointerUp:function(e,t,r,n){var i=this.mouse?0:it(this.pointerIds,_e(e));clearTimeout(this.holdTimers[i]),this.collectEventTargets(e,t,r,"up"),this.collectEventTargets(e,t,r,"tap"),this.pointerEnd(e,t,r,n),this.removePointer(e)},pointerCancel:function(e,t,r,n){var i=this.mouse?0:it(this.pointerIds,_e(e));clearTimeout(this.holdTimers[i]),this.collectEventTargets(e,t,r,"cancel"),this.pointerEnd(e,t,r,n),this.removePointer(e)},ie8Dblclick:function(e,t,r){this.prevTap&&t.clientX===this.prevTap.clientX&&t.clientY===this.prevTap.clientY&&r===this.prevTap.target&&(this.downTargets[0]=r,this.downTimes[0]=(new Date).getTime(),this.collectEventTargets(e,t,r,"tap"))},pointerEnd:function(e,t,r,n){var i,o=this.target,s=o&&o.options,a=s&&this.prepared.name&&s[this.prepared.name].inertia,c=this.inertiaStatus;if(this.interacting()){if(c.active&&!c.ending)return;var p,u,l,d=(new Date).getTime(),h=!1,f=Ye(o,this.prepared.name)&&s[this.prepared.name].snap.endOnly,m=Xe(o,this.prepared.name)&&s[this.prepared.name].restrict.endOnly,v=0,g=0;if(p=this.dragging?"x"===s.drag.axis?Math.abs(this.pointerDelta.client.vx):"y"===s.drag.axis?Math.abs(this.pointerDelta.client.vy):this.pointerDelta.client.speed:this.pointerDelta.client.speed,l=(u=a&&a.enabled&&"gesture"!==this.prepared.name&&t!==c.startEvent)&&d-this.curCoords.timeStamp<50&&p>a.minSpeed&&p>a.endSpeed,u&&!l&&(f||m)){var y={};y.snap=y.restrict=y,f&&(this.setSnapping(this.curCoords.page,y),y.locked&&(v+=y.dx,g+=y.dy)),m&&(this.setRestriction(this.curCoords.page,y),y.restricted&&(v+=y.dx,g+=y.dy)),(v||g)&&(h=!0)}if(l||h){if(he(c.upCoords,this.curCoords),this.pointers[0]=c.startEvent=new Le(this,t,this.prepared.name,"inertiastart",this.element),c.t0=d,o.fire(c.startEvent),l){c.vx0=this.pointerDelta.client.vx,c.vy0=this.pointerDelta.client.vy,c.v0=p,this.calcInertia(c);var _,b=le({},this.curCoords.page),x=Oe(o,this.element);if(b.x=b.x+c.xe-x.x,b.y=b.y+c.ye-x.y,(_={useStatusXY:!0,x:b.x,y:b.y,dx:0,dy:0,snap:null}).snap=_,v=g=0,f){var E=this.setSnapping(this.curCoords.page,_);E.locked&&(v+=E.dx,g+=E.dy)}if(m){var S=this.setRestriction(this.curCoords.page,_);S.restricted&&(v+=S.dx,g+=S.dy)}c.modifiedXe+=v,c.modifiedYe+=g,c.i=W(this.boundInertiaFrame)}else c.smoothEnd=!0,c.xe=v,c.ye=g,c.sx=c.sy=0,c.i=W(this.boundSmoothEndFrame);return void(c.active=!0)}(f||m)&&this.pointerMove(e,t,r,n,!0)}if(this.dragging){i=new Le(this,t,"drag","end",this.element);var w=this.element,T=this.getDrop(i,t,w);this.dropTarget=T.dropzone,this.dropElement=T.element;var P=this.getDropEvents(t,i);P.leave&&this.prevDropTarget.fire(P.leave),P.enter&&this.dropTarget.fire(P.enter),P.drop&&this.dropTarget.fire(P.drop),P.deactivate&&this.fireActiveDrops(P.deactivate),o.fire(i)}else this.resizing?(i=new Le(this,t,"resize","end",this.element),o.fire(i)):this.gesturing&&(i=new Le(this,t,"gesture","end",this.element),o.fire(i));this.stop(t)},collectDrops:function(e){var t,r=[],n=[];for(e=e||this.element,t=0;t<S.length;t++)if(S[t].options.drop.enabled){var i=S[t],o=i.options.drop.accept;if(!(te(o)&&o!==e||pe(o)&&!st(e,o)))for(var s=i.selector?i._context.querySelectorAll(i.selector):[i._element],a=0,c=s.length;a<c;a++){var p=s[a];p!==e&&(r.push(i),n.push(p))}}return{dropzones:r,elements:n}},fireActiveDrops:function(e){var t,r,n,i;for(t=0;t<this.activeDrops.dropzones.length;t++)r=this.activeDrops.dropzones[t],(n=this.activeDrops.elements[t])!==i&&(e.target=n,r.fire(e)),i=n},setActiveDrops:function(e){var t=this.collectDrops(e,!0);this.activeDrops.dropzones=t.dropzones,this.activeDrops.elements=t.elements,this.activeDrops.rects=[];for(var r=0;r<this.activeDrops.dropzones.length;r++)this.activeDrops.rects[r]=this.activeDrops.dropzones[r].getRect(this.activeDrops.elements[r])},getDrop:function(e,t,r){var n=[];x&&this.setActiveDrops(r);for(var i=0;i<this.activeDrops.dropzones.length;i++){var o=this.activeDrops.dropzones[i],s=this.activeDrops.elements[i],a=this.activeDrops.rects[i];n.push(o.dropCheck(e,t,this.target,r,s,a)?s:null)}var c=function(e){var t,r,n,i,o,s=e[0],a=s?0:-1,c=[],p=[];for(i=1;i<e.length;i++)if((t=e[i])&&t!==s)if(s){if(t.parentNode!==t.ownerDocument)if(s.parentNode!==t.ownerDocument){if(!c.length)for(r=s;r.parentNode&&r.parentNode!==r.ownerDocument;)c.unshift(r),r=r.parentNode;if(s instanceof _&&t instanceof l&&!(t instanceof y)){if(t===s.parentNode)continue;r=t.ownerSVGElement}else r=t;for(p=[];r.parentNode!==r.ownerDocument;)p.unshift(r),r=r.parentNode;for(o=0;p[o]&&p[o]===c[o];)o++;var u=[p[o-1],p[o],c[o]];for(n=u[0].lastChild;n;){if(n===u[1]){s=t,a=i,c=[];break}if(n===u[2])break;n=n.previousSibling}}else s=t,a=i}else s=t,a=i;return a}(n);return{dropzone:this.activeDrops.dropzones[c]||null,element:this.activeDrops.elements[c]||null}},getDropEvents:function(e,t){var r={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return this.dropElement!==this.prevDropElement&&(this.prevDropTarget&&(r.leave={target:this.prevDropElement,dropzone:this.prevDropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dragleave"},t.dragLeave=this.prevDropElement,t.prevDropzone=this.prevDropTarget),this.dropTarget&&(r.enter={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dragenter"},t.dragEnter=this.dropElement,t.dropzone=this.dropTarget)),"dragend"===t.type&&this.dropTarget&&(r.drop={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"drop"},t.dropzone=this.dropTarget),"dragstart"===t.type&&(r.activate={target:null,dropzone:null,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dropactivate"}),"dragend"===t.type&&(r.deactivate={target:null,dropzone:null,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dropdeactivate"}),"dragmove"===t.type&&this.dropTarget&&(r.move={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,dragmove:t,timeStamp:t.timeStamp,type:"dropmove"},t.dropzone=this.dropTarget),r},currentAction:function(){return(this.dragging?"drag":this.resizing&&"resize")||this.gesturing&&"gesture"||null},interacting:function(){return this.dragging||this.resizing||this.gesturing},clearTargets:function(){this.target=this.element=null,this.dropTarget=this.dropElement=this.prevDropTarget=this.prevDropElement=null},stop:function(e){if(this.interacting()){T.stop(),this.matches=[],this.matchElements=[];var t=this.target;t.options.styleCursor&&(t._doc.documentElement.style.cursor=""),e&&se(e.preventDefault)&&this.checkAndPreventDefault(e,t,this.element),this.dragging&&(this.activeDrops.dropzones=this.activeDrops.elements=this.activeDrops.rects=null)}this.clearTargets(),this.pointerIsDown=this.snapStatus.locked=this.dragging=this.resizing=this.gesturing=!1,this.prepared.name=this.prevEvent=null,this.inertiaStatus.resumeDx=this.inertiaStatus.resumeDy=0;for(var r=0;r<this.pointers.length;r++)-1===it(this.pointerIds,_e(this.pointers[r]))&&this.pointers.splice(r,1)},inertiaFrame:function(){var e=this.inertiaStatus,t=this.target.options[this.prepared.name].inertia.resistance,r=(new Date).getTime()/1e3-e.t0;if(r<e.te){var n=1-(Math.exp(-t*r)-e.lambda_v0)/e.one_ve_v0;if(e.modifiedXe===e.xe&&e.modifiedYe===e.ye)e.sx=e.xe*n,e.sy=e.ye*n;else{var i=function(e,t,r,n,i,o,s){return{x:De(s,e,r,i),y:De(s,t,n,o)}}(0,0,e.xe,e.ye,e.modifiedXe,e.modifiedYe,n);e.sx=i.x,e.sy=i.y}this.pointerMove(e.startEvent,e.startEvent),e.i=W(this.boundInertiaFrame)}else e.ending=!0,e.sx=e.modifiedXe,e.sy=e.modifiedYe,this.pointerMove(e.startEvent,e.startEvent),this.pointerEnd(e.startEvent,e.startEvent),e.active=e.ending=!1},smoothEndFrame:function(){var e=this.inertiaStatus,t=(new Date).getTime()-e.t0,r=this.target.options[this.prepared.name].inertia.smoothEndDuration;t<r?(e.sx=Me(t,0,e.xe,r),e.sy=Me(t,0,e.ye,r),this.pointerMove(e.startEvent,e.startEvent),e.i=W(this.boundSmoothEndFrame)):(e.ending=!0,e.sx=e.xe,e.sy=e.ye,this.pointerMove(e.startEvent,e.startEvent),this.pointerEnd(e.startEvent,e.startEvent),e.smoothEnd=e.active=e.ending=!1)},addPointer:function(e){var t=_e(e),r=this.mouse?0:it(this.pointerIds,t);return-1===r&&(r=this.pointerIds.length),this.pointerIds[r]=t,this.pointers[r]=e,r},removePointer:function(e){var t=_e(e),r=this.mouse?0:it(this.pointerIds,t);-1!==r&&(this.pointers.splice(r,1),this.pointerIds.splice(r,1),this.downTargets.splice(r,1),this.downTimes.splice(r,1),this.holdTimers.splice(r,1))},recordPointer:function(e){var t=this.mouse?0:it(this.pointerIds,_e(e));-1!==t&&(this.pointers[t]=e)},collectEventTargets:function(e,t,i,o){var r=this.mouse?0:it(this.pointerIds,_e(e));if("tap"!==o||!this.pointerWasMoved&&this.downTargets[r]&&this.downTargets[r]===i){for(var s=[],a=[],c=i;c;)Ze.isSet(c)&&Ze(c)._iEvents[o]&&(s.push(Ze(c)),a.push(c)),S.forEachSelector(n),c=Ae(c);!s.length&&"tap"!==o||this.firePointers(e,t,i,s,a,o)}function n(e,t,r){var n=E?r.querySelectorAll(t):void 0;e._iEvents[o]&&te(c)&&ke(e,c)&&!Ne(e,c,i)&&Fe(e,c,i)&&st(c,t,n)&&(s.push(e),a.push(c))}},firePointers:function(e,t,r,n,i,o){var s,a,c,p=this.mouse?0:it(this.pointerIds,_e(e)),u={};for("doubletap"===o?u=e:(de(u,t),t!==e&&de(u,e),u.preventDefault=Be,u.stopPropagation=Le.prototype.stopPropagation,u.stopImmediatePropagation=Le.prototype.stopImmediatePropagation,u.interaction=this,u.timeStamp=(new Date).getTime(),u.originalEvent=t,u.originalPointer=e,u.type=o,u.pointerId=_e(e),u.pointerType=this.mouse?"mouse":C?pe(e.pointerType)?e.pointerType:[,,"touch","pen","mouse"][e.pointerType]:"touch"),"tap"===o&&(u.dt=u.timeStamp-this.downTimes[p],a=u.timeStamp-this.tapTime,c=!!(this.prevTap&&"doubletap"!==this.prevTap.type&&this.prevTap.target===u.target&&a<500),u.double=c,this.tapTime=u.timeStamp),s=0;s<n.length&&(u.currentTarget=i[s],u.interactable=n[s],n[s].fire(u),!(u.immediatePropagationStopped||u.propagationStopped&&i[s+1]!==u.currentTarget));s++);if(c){var l={};le(l,u),l.dt=a,l.type="doubletap",this.collectEventTargets(l,t,r,"doubletap"),this.prevTap=l}else"tap"===o&&(this.prevTap=u)},validateSelector:function(e,t,r,n){for(var i=0,o=r.length;i<o;i++){var s=r[i],a=n[i],c=Ge(s.getAction(e,t,this,a),s);if(c&&qe(s,a,c))return this.target=s,this.element=a,c}},setSnapping:function(e,t){var r,n,i,o=this.target.options[this.prepared.name].snap,s=[];if((t=t||this.snapStatus).useStatusXY)n={x:t.x,y:t.y};else{var a=Oe(this.target,this.element);(n=le({},e)).x-=a.x,n.y-=a.y}t.realX=n.x,t.realY=n.y,n.x=n.x-this.inertiaStatus.resumeDx,n.y=n.y-this.inertiaStatus.resumeDy;for(var c=o.targets?o.targets.length:0,p=0;p<this.snapOffsets.length;p++){var u={x:n.x-this.snapOffsets[p].x,y:n.y-this.snapOffsets[p].y};for(i=0;i<c;i++)(r=se(o.targets[i])?o.targets[i](u.x,u.y,this):o.targets[i])&&s.push({x:ae(r.x)?r.x+this.snapOffsets[p].x:u.x,y:ae(r.y)?r.y+this.snapOffsets[p].y:u.y,range:ae(r.range)?r.range:o.range})}var l,d={target:null,inRange:!1,distance:0,range:0,dx:0,dy:0};for(i=0,c=s.length;i<c;i++){var h=(r=s[i]).range,f=r.x-n.x,m=r.y-n.y,v=D(f,m),g=v<=h;h===1/0&&d.inRange&&d.range!==1/0&&(g=!1),d.target&&!(g?d.inRange&&h!==1/0?v/h<d.distance/d.range:h===1/0&&d.range!==1/0||v<d.distance:!d.inRange&&v<d.distance)||(h===1/0&&(g=!0),d.target=r,d.distance=v,d.range=h,d.inRange=g,d.dx=f,d.dy=m,t.range=h)}return d.target?(l=t.snappedX!==d.target.x||t.snappedY!==d.target.y,t.snappedX=d.target.x,t.snappedY=d.target.y):(l=!0,t.snappedX=NaN,t.snappedY=NaN),t.dx=d.dx,t.dy=d.dy,t.changed=l||d.inRange&&!t.locked,t.locked=d.inRange,t},setRestriction:function(e,t){var r,n,i,o,s=this.target,a=s&&s.options[this.prepared.name].restrict,c=a&&a.restriction;return c?(r=r=(t=t||this.restrictStatus).useStatusXY?{x:t.x,y:t.y}:le({},e),t.snap&&t.snap.locked&&(r.x+=t.snap.dx||0,r.y+=t.snap.dy||0),r.x-=this.inertiaStatus.resumeDx,r.y-=this.inertiaStatus.resumeDy,t.dx=0,t.dy=0,t.restricted=!1,pe(c)&&!(c="parent"===c?Ae(this.element):"self"===c?s.getRect(this.element):ze(this.element,c))||(se(c)&&(c=c(r.x,r.y,this.element)),te(c)&&(c=Se(c)),o=(n=c)?"x"in c&&"y"in c?(i=Math.max(Math.min(n.x+n.width-this.restrictOffset.right,r.x),n.x+this.restrictOffset.left),Math.max(Math.min(n.y+n.height-this.restrictOffset.bottom,r.y),n.y+this.restrictOffset.top)):(i=Math.max(Math.min(n.right-this.restrictOffset.right,r.x),n.left+this.restrictOffset.left),Math.max(Math.min(n.bottom-this.restrictOffset.bottom,r.y),n.top+this.restrictOffset.top)):(i=r.x,r.y),t.dx=i-r.x,t.dy=o-r.y,t.changed=t.restrictedX!==i||t.restrictedY!==o,t.restricted=!(!t.dx&&!t.dy),t.restrictedX=i,t.restrictedY=o),t):t},checkAndPreventDefault:function(e,t,r){if(t=t||this.target){var n=t.options,i=n.preventDefault;if("auto"!==i||!r||/^(input|select|textarea)$/i.test(e.target.nodeName))"always"!==i||e.preventDefault();else{if(/down|start/i.test(e.type)&&"drag"===this.prepared.name&&"xy"!==n.drag.axis)return;if(n[this.prepared.name]&&n[this.prepared.name].manualStart&&!this.interacting())return;e.preventDefault()}}},calcInertia:function(e){var t=this.target.options[this.prepared.name].inertia,r=t.resistance,n=-Math.log(t.endSpeed/e.v0)/r;e.x0=this.prevEvent.pageX,e.y0=this.prevEvent.pageY,e.t0=e.startEvent.timeStamp/1e3,e.sx=e.sy=0,e.modifiedXe=e.xe=(e.vx0-n)/r,e.modifiedYe=e.ye=(e.vy0-n)/r,e.te=n,e.lambda_v0=r/e.v0,e.one_ve_v0=1-t.endSpeed/e.v0},autoScrollMove:function(e){if(this.interacting()&&function(e,t){var r=e.options;return/^resize/.test(t)&&(t="resize"),r[t].autoScroll&&r[t].autoScroll.enabled}(this.target,this.prepared.name))if(this.inertiaStatus.active)T.x=T.y=0;else{var t,r,n,i,o=this.target.options[this.prepared.name].autoScroll,s=o.container||xe(this.element);if(re(s))i=e.clientX<T.margin,t=e.clientY<T.margin,r=e.clientX>s.innerWidth-T.margin,n=e.clientY>s.innerHeight-T.margin;else{var a=Ee(s);i=e.clientX<a.left+T.margin,t=e.clientY<a.top+T.margin,r=e.clientX>a.right-T.margin,n=e.clientY>a.bottom-T.margin}T.x=r?1:i?-1:0,T.y=n?1:t?-1:0,T.isScrolling||(T.margin=o.margin,T.speed=o.speed,T.start(this))}},_updateEventTargets:function(e,t){this._eventTarget=e,this._curEventTarget=t}},Le.prototype={preventDefault:ee,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}};for(var B={},V=["dragStart","dragMove","resizeStart","resizeMove","gestureStart","gestureMove","pointerOver","pointerOut","pointerHover","selectorDown","pointerDown","pointerMove","pointerUp","pointerCancel","pointerEnd","addPointer","removePointer","recordPointer","autoScrollMove"],H=0,K=V.length;H<K;H++){var G=V[H];B[G]=$e(G)}S.indexOfElement=function(e,t){t=t||s;for(var r=0;r<this.length;r++){var n=this[r];if(n.selector===e&&n._context===t||!n.selector&&n._element===e)return r}return-1},S.get=function(e,t){return this[this.indexOfElement(e,t&&t.context)]},S.forEachSelector=function(e){for(var t=0;t<this.length;t++){var r=this[t];if(r.selector){var n=e(r,r.selector,r._context,t,this);if(void 0!==n)return n}}},(et.prototype={setOnEvents:function(e,t){return"drop"===e?(se(t.ondrop)&&(this.ondrop=t.ondrop),se(t.ondropactivate)&&(this.ondropactivate=t.ondropactivate),se(t.ondropdeactivate)&&(this.ondropdeactivate=t.ondropdeactivate),se(t.ondragenter)&&(this.ondragenter=t.ondragenter),se(t.ondragleave)&&(this.ondragleave=t.ondragleave),se(t.ondropmove)&&(this.ondropmove=t.ondropmove)):(e="on"+e,se(t.onstart)&&(this[e+"start"]=t.onstart),se(t.onmove)&&(this[e+"move"]=t.onmove),se(t.onend)&&(this[e+"end"]=t.onend),se(t.oninertiastart)&&(this[e+"inertiastart"]=t.oninertiastart)),this},draggable:function(e){return oe(e)?(this.options.drag.enabled=!1!==e.enabled,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.drag.axis=e.axis:null===e.axis&&delete this.options.drag.axis,this):ce(e)?(this.options.drag.enabled=e,this):this.options.drag},setPerAction:function(e,t){for(var r in t)r in M[e]&&(oe(t[r])?(this.options[e][r]=le(this.options[e][r]||{},t[r]),oe(M.perAction[r])&&"enabled"in M.perAction[r]&&(this.options[e][r].enabled=!1!==t[r].enabled)):ce(t[r])&&oe(M.perAction[r])?this.options[e][r].enabled=t[r]:void 0!==t[r]&&(this.options[e][r]=t[r]))},dropzone:function(e){return oe(e)?(this.options.drop.enabled=!1!==e.enabled,this.setOnEvents("drop",e),/^(pointer|center)$/.test(e.overlap)?this.options.drop.overlap=e.overlap:ae(e.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,e.overlap),0)),"accept"in e&&(this.options.drop.accept=e.accept),"checker"in e&&(this.options.drop.checker=e.checker),this):ce(e)?(this.options.drop.enabled=e,this):this.options.drop},dropCheck:function(e,t,r,n,i,o){var s=!1;if(!(o=o||this.getRect(i)))return!!this.options.drop.checker&&this.options.drop.checker(e,t,s,this,i,r,n);var a=this.options.drop.overlap;if("pointer"===a){var c,p,u=ge(e),l=Oe(r,n);u.x+=l.x,u.y+=l.y,c=u.x>o.left&&u.x<o.right,p=u.y>o.top&&u.y<o.bottom,s=c&&p}var d=r.getRect(n);if("center"===a){var h=d.left+d.width/2,f=d.top+d.height/2;s=h>=o.left&&h<=o.right&&f>=o.top&&f<=o.bottom}ae(a)&&(s=a<=Math.max(0,Math.min(o.right,d.right)-Math.max(o.left,d.left))*Math.max(0,Math.min(o.bottom,d.bottom)-Math.max(o.top,d.top))/(d.width*d.height));return this.options.drop.checker&&(s=this.options.drop.checker(e,t,s,this,i,r,n)),s},dropChecker:function(e){return se(e)?(this.options.drop.checker=e,this):null===e?(delete this.options.getRect,this):this.options.drop.checker},accept:function(e){return te(e)?(this.options.drop.accept=e,this):ue(e)?(this.options.drop.accept=e,this):null===e?(delete this.options.drop.accept,this):this.options.drop.accept},resizable:function(e){return oe(e)?(this.options.resize.enabled=!1!==e.enabled,this.setPerAction("resize",e),this.setOnEvents("resize",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.resize.axis=e.axis:null===e.axis&&(this.options.resize.axis=M.resize.axis),ce(e.preserveAspectRatio)?this.options.resize.preserveAspectRatio=e.preserveAspectRatio:ce(e.square)&&(this.options.resize.square=e.square),this):ce(e)?(this.options.resize.enabled=e,this):this.options.resize},squareResize:function(e){return ce(e)?(this.options.resize.square=e,this):null===e?(delete this.options.resize.square,this):this.options.resize.square},gesturable:function(e){return oe(e)?(this.options.gesture.enabled=!1!==e.enabled,this.setPerAction("gesture",e),this.setOnEvents("gesture",e),this):ce(e)?(this.options.gesture.enabled=e,this):this.options.gesture},autoScroll:function(e){return oe(e)?e=le({actions:["drag","resize"]},e):ce(e)&&(e={actions:["drag","resize"],enabled:e}),this.setOptions("autoScroll",e)},snap:function(e){var t=this.setOptions("snap",e);return t===this?this:t.drag},setOptions:function(e,t){var r,n=t&&ie(t.actions)?t.actions:["drag"];if(oe(t)||ce(t)){for(r=0;r<n.length;r++){var i=/resize/.test(n[r])?"resize":n[r];if(oe(this.options[i])){var o=this.options[i][e];oe(t)?(le(o,t),o.enabled=!1!==t.enabled,"snap"===e&&("grid"===o.mode?o.targets=[Ze.createSnapGrid(le({offset:o.gridOffset||{x:0,y:0}},o.grid||{}))]:"anchor"===o.mode?o.targets=o.anchors:"path"===o.mode&&(o.targets=o.paths),"elementOrigin"in t&&(o.relativePoints=[t.elementOrigin]))):ce(t)&&(o.enabled=t)}}return this}var s={},a=["drag","resize","gesture"];for(r=0;r<a.length;r++)e in M[a[r]]&&(s[a[r]]=this.options[a[r]][e]);return s},inertia:function(e){var t=this.setOptions("inertia",e);return t===this?this:t.drag},getAction:function(e,t,r,n){var i=this.defaultActionChecker(e,r,n);return this.options.actionChecker?this.options.actionChecker(e,t,i,this,n,r):i},defaultActionChecker:Ke,actionChecker:function(e){return se(e)?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(e){return e=e||this._element,this.selector&&!te(e)&&(e=this._context.querySelector(this.selector)),Se(e)},rectChecker:function(e){return se(e)?(this.getRect=e,this):null===e?(delete this.options.getRect,this):this.getRect},styleCursor:function(e){return ce(e)?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):ce(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault},origin:function(e){return ue(e)?(this.options.origin=e,this):oe(e)?(this.options.origin=e,this):this.options.origin},deltaSource:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):this.options.deltaSource},restrict:function(e){if(!oe(e))return this.setOptions("restrict",e);for(var t,r=["drag","resize","gesture"],n=0;n<r.length;n++){var i=r[n];if(i in e){var o=le({actions:[i],restriction:e[i]},e);t=this.setOptions("restrict",o)}}return t},context:function(){return this._context},_context:s,ignoreFrom:function(e){return ue(e)?(this.options.ignoreFrom=e,this):te(e)?(this.options.ignoreFrom=e,this):this.options.ignoreFrom},allowFrom:function(e){return ue(e)?(this.options.allowFrom=e,this):te(e)?(this.options.allowFrom=e,this):this.options.allowFrom},element:function(){return this._element},fire:function(e){if(!e||!e.type||!ot(F,e.type))return this;var t,r,n,i="on"+e.type;if(e.type in this._iEvents)for(r=0,n=(t=this._iEvents[e.type]).length;r<n&&!e.immediatePropagationStopped;r++)t[r].name,t[r](e);if(se(this[i])&&(this[i].name,this[i](e)),e.type in j&&(t=j[e.type]))for(r=0,n=t.length;r<n&&!e.immediatePropagationStopped;r++)t[r].name,t[r](e);return this},on:function(e,t,r){var n;if(pe(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),ie(e)){for(n=0;n<e.length;n++)this.on(e[n],t,r);return this}if(oe(e)){for(var i in e)this.on(i,e[i],t);return this}if("wheel"===e&&(e=N),r=!!r,ot(F,e))e in this._iEvents?this._iEvents[e].push(t):this._iEvents[e]=[t];else if(this.selector){if(!w[e])for(w[e]={selectors:[],contexts:[],listeners:[]},n=0;n<p.length;n++)$.add(p[n],e,Je),$.add(p[n],e,Qe,!0);var o,s=w[e];for(o=s.selectors.length-1;0<=o&&(s.selectors[o]!==this.selector||s.contexts[o]!==this._context);o--);-1===o&&(o=s.selectors.length,s.selectors.push(this.selector),s.contexts.push(this._context),s.listeners.push([])),s.listeners[o].push([t,r])}else $.add(this._element,e,t,r);return this},off:function(e,t,r){var n;if(pe(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),ie(e)){for(n=0;n<e.length;n++)this.off(e[n],t,r);return this}if(oe(e)){for(var i in e)this.off(i,e[i],t);return this}var o,s=-1;if(r=!!r,"wheel"===e&&(e=N),ot(F,e))(o=this._iEvents[e])&&-1!==(s=it(o,t))&&this._iEvents[e].splice(s,1);else if(this.selector){var a=w[e],c=!1;if(!a)return this;for(s=a.selectors.length-1;0<=s;s--)if(a.selectors[s]===this.selector&&a.contexts[s]===this._context){var p=a.listeners[s];for(n=p.length-1;0<=n;n--){var u=p[n][0],l=p[n][1];if(u===t&&l===r){p.splice(n,1),p.length||(a.selectors.splice(s,1),a.contexts.splice(s,1),a.listeners.splice(s,1),$.remove(this._context,e,Je),$.remove(this._context,e,Qe,!0),a.selectors.length||(w[e]=null)),c=!0;break}}if(c)break}}else $.remove(this._element,e,t,r);return this},set:function(e){oe(e)||(e={}),this.options=le({},M.base);var t,r=["drag","drop","resize","gesture"],n=["draggable","dropzone","resizable","gesturable"],i=le(le({},M.perAction),e[o]||{});for(t=0;t<r.length;t++){var o=r[t];this.options[o]=le({},M[o]),this.setPerAction(o,i),this[n[t]](e[o])}var s=["accept","actionChecker","allowFrom","deltaSource","dropChecker","ignoreFrom","origin","preventDefault","rectChecker","styleCursor"];for(t=0,K=s.length;t<K;t++){var a=s[t];this.options[a]=M.base[a],a in e&&this[a](e[a])}return this},unset:function(){if($.remove(this._element,"all"),pe(this.selector))for(var e in w)for(var t=w[e],r=0;r<t.selectors.length;r++){t.selectors[r]===this.selector&&t.contexts[r]===this._context&&(t.selectors.splice(r,1),t.contexts.splice(r,1),t.listeners.splice(r,1),t.selectors.length||(w[e]=null)),$.remove(this._context,e,Je),$.remove(this._context,e,Qe,!0);break}else $.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="");return this.dropzone(!1),S.splice(it(S,this),1),Ze}}).snap=tt(et.prototype.snap,"Interactable#snap is deprecated. See the new documentation for snapping at http://interactjs.io/docs/snapping"),et.prototype.restrict=tt(et.prototype.restrict,"Interactable#restrict is deprecated. See the new documentation for resticting at http://interactjs.io/docs/restriction"),et.prototype.inertia=tt(et.prototype.inertia,"Interactable#inertia is deprecated. See the new documentation for inertia at http://interactjs.io/docs/inertia"),et.prototype.autoScroll=tt(et.prototype.autoScroll,"Interactable#autoScroll is deprecated. See the new documentation for autoScroll at http://interactjs.io/docs/#autoscroll"),et.prototype.squareResize=tt(et.prototype.squareResize,"Interactable#squareResize is deprecated. See http://interactjs.io/docs/#resize-square"),et.prototype.accept=tt(et.prototype.accept,"Interactable#accept is deprecated. use Interactable#dropzone({ accept: target }) instead"),et.prototype.dropChecker=tt(et.prototype.dropChecker,"Interactable#dropChecker is deprecated. use Interactable#dropzone({ dropChecker: checkerFunction }) instead"),et.prototype.context=tt(et.prototype.context,"Interactable#context as a method is deprecated. It will soon be a DOM Node instead"),Ze.isSet=function(e,t){return-1!==S.indexOfElement(e,t&&t.context)},Ze.on=function(e,t,r){if(pe(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),ie(e)){for(var n=0;n<e.length;n++)Ze.on(e[n],t,r);return Ze}if(oe(e)){for(var i in e)Ze.on(i,e[i],t);return Ze}return ot(F,e)?j[e]?j[e].push(t):j[e]=[t]:$.add(s,e,t,r),Ze},Ze.off=function(e,t,r){if(pe(e)&&-1!==e.search(" ")&&(e=e.trim().split(/ +/)),ie(e)){for(var n=0;n<e.length;n++)Ze.off(e[n],t,r);return Ze}if(oe(e)){for(var i in e)Ze.off(i,e[i],t);return Ze}var o;ot(F,e)?e in j&&-1!==(o=it(j[e],t))&&j[e].splice(o,1):$.remove(s,e,t,r);return Ze},Ze.enableDragging=tt(function(e){return null!=e?(k.drag=e,Ze):k.drag},"interact.enableDragging is deprecated and will soon be removed."),Ze.enableResizing=tt(function(e){return null!=e?(k.resize=e,Ze):k.resize},"interact.enableResizing is deprecated and will soon be removed."),Ze.enableGesturing=tt(function(e){return null!=e?(k.gesture=e,Ze):k.gesture},"interact.enableGesturing is deprecated and will soon be removed."),Ze.eventTypes=F,Ze.debug=function(){var e=b[0]||new We;return{interactions:b,target:e.target,dragging:e.dragging,resizing:e.resizing,gesturing:e.gesturing,prepared:e.prepared,matches:e.matches,matchElements:e.matchElements,prevCoords:e.prevCoords,startCoords:e.startCoords,pointerIds:e.pointerIds,pointers:e.pointers,addPointer:B.addPointer,removePointer:B.removePointer,recordPointer:B.recordPointer,snap:e.snapStatus,restrict:e.restrictStatus,inertia:e.inertiaStatus,downTime:e.downTimes[0],downEvent:e.downEvent,downPointer:e.downPointer,prevEvent:e.prevEvent,Interactable:et,interactables:S,pointerIsDown:e.pointerIsDown,defaultOptions:M,defaultActionChecker:Ke,actionCursors:A,dragMove:B.dragMove,resizeMove:B.resizeMove,gestureMove:B.gestureMove,pointerUp:B.pointerUp,pointerDown:B.pointerDown,pointerMove:B.pointerMove,pointerHover:B.pointerHover,eventTypes:F,events:$,globalEvents:j,delegatedEvents:w,prefixedPropREs:L}},Ze.getPointerAverage=Te,Ze.getTouchBBox=Pe,Ze.getTouchDistance=Ce,Ze.getTouchAngle=Re,Ze.getElementRect=Se,Ze.getElementClientRect=Ee,Ze.matchesSelector=st,Ze.closest=ze,Ze.margin=tt(function(e){return ae(e)?(R=e,Ze):R},"interact.margin is deprecated. Use interact(target).resizable({ margin: number }); instead."),Ze.supportsTouch=function(){return P},Ze.supportsPointerEvent=function(){return C},Ze.stop=function(e){for(var t=b.length-1;0<=t;t--)b[t].stop(e);return Ze},Ze.dynamicDrop=function(e){return ce(e)?(x=e,Ze):x},Ze.pointerMoveTolerance=function(e){return ae(e)?(O=e,this):O},Ze.maxInteractions=function(e){return ae(e)?(z=e,this):z},Ze.createSnapGrid=function(s){return function(e,t){var r=0,n=0;oe(s.offset)&&(r=s.offset.x,n=s.offset.y);var i=Math.round((e-r)/s.x),o=Math.round((t-n)/s.y);return{x:i*s.x+r,y:o*s.y+n,range:s.range}}},nt(s),q in Element.prototype&&se(Element.prototype[q])||(E=function(e,t,r){for(var n=0,i=(r=r||e.parentNode.querySelectorAll(t)).length;n<i;n++)if(r[n]===e)return!0;return!1}),function(){for(var i=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!n.requestAnimationFrame;++t)W=n[e[t]+"RequestAnimationFrame"],U=n[e[t]+"CancelAnimationFrame"]||n[e[t]+"CancelRequestAnimationFrame"];W||(W=function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),n=setTimeout(function(){e(t+r)},r);return i=t+r,n}),U||(U=function(e){clearTimeout(e)})}(),ct.exports&&(pt=ct.exports=Ze),pt.interact=Ze}function J(){this.returnValue=!1}function Q(){this.cancelBubble=!0}function Z(){this.cancelBubble=!0,this.immediatePropagationStopped=!0}function ee(){}function te(e){if(!e||"object"!=typeof e)return!1;var t=xe(e)||i;return/object|function/.test(typeof t.Element)?e instanceof t.Element:1===e.nodeType&&"string"==typeof e.nodeName}function re(e){return e===i||!(!e||!e.Window)&&e instanceof e.Window}function ne(e){return!!e&&e instanceof t}function ie(e){return oe(e)&&(e.length,!0)&&se(e.splice)}function oe(e){return!!e&&"object"==typeof e}function se(e){return"function"==typeof e}function ae(e){return"number"==typeof e}function ce(e){return"boolean"==typeof e}function pe(e){return"string"==typeof e}function ue(e){return!!pe(e)&&(s.querySelector(e),!0)}function le(e,t){for(var r in t)e[r]=t[r];return e}function de(e,t){for(var r in t){var n=!1;for(var i in L)if(0===r.indexOf(i)&&L[i].test(r)){n=!0;break}n||(e[r]=t[r])}return e}function he(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function fe(e,t,r){e.page.x=r.page.x-t.page.x,e.page.y=r.page.y-t.page.y,e.client.x=r.client.x-t.client.x,e.client.y=r.client.y-t.client.y,e.timeStamp=(new Date).getTime()-t.timeStamp;var n=Math.max(e.timeStamp/1e3,.001);e.page.speed=D(e.page.x,e.page.y)/n,e.page.vx=e.page.x/n,e.page.vy=e.page.y/n,e.client.speed=D(e.client.x,e.page.y)/n,e.client.vx=e.client.x/n,e.client.vy=e.client.y/n}function me(e){return e instanceof i.Event||P&&i.Touch&&e instanceof i.Touch}function ve(e,t,r){return e=e||"page",(r=r||{}).x=t[e+"X"],r.y=t[e+"Y"],r}function ge(e,t){return t=t||{},Y&&me(e)?(ve("screen",e,t),t.x+=i.scrollX,t.y+=i.scrollY):ve("page",e,t),t}function ye(e,t){return t=t||{},Y&&me(e)?ve("screen",e,t):ve("client",e,t),t}function _e(e){return ae(e.pointerId)?e.pointerId:e.identifier}function be(e){return e instanceof r?e.correspondingUseElement:e}function xe(e){if(re(e))return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}function Ee(e){var t=e instanceof l?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function Se(e){var t=Ee(e);if(!X&&t){var r=function(e){return{x:(e=e||i).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}(xe(e));t.left+=r.x,t.right+=r.x,t.top+=r.y,t.bottom+=r.y}return t}function we(e){var t=[];return ie(e)?(t[0]=e[0],t[1]=e[1]):"touchend"===e.type?1===e.touches.length?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):0===e.touches.length&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function Te(e){for(var t,r={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<e.length;n++)for(t in r)r[t]+=e[n][t];for(t in r)r[t]/=e.length;return r}function Pe(e){if(e.length||e.touches&&1<e.touches.length){var t=we(e),r=Math.min(t[0].pageX,t[1].pageX),n=Math.min(t[0].pageY,t[1].pageY);return{x:r,y:n,left:r,top:n,width:Math.max(t[0].pageX,t[1].pageX)-r,height:Math.max(t[0].pageY,t[1].pageY)-n}}}function Ce(e,t){var r=(t=t||M.deltaSource)+"X",n=t+"Y",i=we(e),o=i[0][r]-i[1][r],s=i[0][n]-i[1][n];return D(o,s)}function Re(e,t,r){var n=(r=r||M.deltaSource)+"X",i=r+"Y",o=we(e),s=o[0][n]-o[1][n],a=o[0][i]-o[1][i],c=180*Math.atan(a/s)/Math.PI;if(ae(t)){var p=(c-t)%360;315<p?c-=360+c/360|0:135<p?c-=180+c/360|0:p<-315?c+=360+c/360|0:p<-135&&(c+=180+c/360|0)}return c}function Oe(e,t){var r=e?e.options.origin:M.origin;return"parent"===r?r=Ae(t):"self"===r?r=e.getRect(t):ue(r)&&(r=ze(t,r)||{x:0,y:0}),se(r)&&(r=r(e&&t)),te(r)&&(r=Se(r)),r.x="x"in r?r.x:r.left,r.y="y"in r?r.y:r.top,r}function De(e,t,r,n){var i=1-e;return i*i*t+2*i*e*r+e*e*n}function Me(e,t,r,n){return-r*(e/=n)*(e-2)+t}function Ie(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function ze(e,t){for(var r=Ae(e);te(r);){if(st(r,t))return r;r=Ae(r)}return null}function Ae(e){var t=e.parentNode;if(ne(t)){for(;(t=t.host)&&ne(t););return t}return t}function ke(e,t){return e._context===t.ownerDocument||Ie(e._context,t)}function Ne(e,t,r){var n=e.options.ignoreFrom;return!(!n||!te(r))&&(pe(n)?at(r,n,t):!!te(n)&&Ie(n,r))}function Fe(e,t,r){var n=e.options.allowFrom;return!n||!!te(r)&&(pe(n)?at(r,n,t):!!te(n)&&Ie(n,r))}function je(e,t){if(!t)return!1;var r=t.options.drag.axis;return"xy"===e||"xy"===r||r===e}function Ye(e,t){var r=e.options;return/^resize/.test(t)&&(t="resize"),r[t].snap&&r[t].snap.enabled}function Xe(e,t){var r=e.options;return/^resize/.test(t)&&(t="resize"),r[t].restrict&&r[t].restrict.enabled}function qe(e,t,r){for(var n=e.options,i=n[r.name].max,o=n[r.name].maxPerElement,s=0,a=0,c=0,p=0,u=b.length;p<u;p++){var l=b[p],d=l.prepared.name;if(l.interacting()){if(z<=++s)return!1;if(l.target===e){if(i<=(a+=d===r.name|0))return!1;if(l.element===t&&(c++,d!==r.name||o<=c))return!1}}}return 0<z}function We(){if(this.target=null,this.element=null,this.dropTarget=null,this.dropElement=null,this.prevDropTarget=null,this.prevDropElement=null,this.prepared={name:null,axis:null,edges:null},this.matches=[],this.matchElements=[],this.inertiaStatus={active:!1,smoothEnd:!1,ending:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null},se(Function.prototype.bind))this.boundInertiaFrame=this.inertiaFrame.bind(this),this.boundSmoothEndFrame=this.smoothEndFrame.bind(this);else{var e=this;this.boundInertiaFrame=function(){return e.inertiaFrame()},this.boundSmoothEndFrame=function(){return e.smoothEndFrame()}}this.activeDrops={dropzones:[],elements:[],rects:[]},this.pointers=[],this.pointerIds=[],this.downTargets=[],this.downTimes=[],this.holdTimers=[],this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0},this.downEvent=null,this.downPointer={},this._eventTarget=null,this._curEventTarget=null,this.prevEvent=null,this.tapTime=0,this.prevTap=null,this.startOffset={left:0,right:0,top:0,bottom:0},this.restrictOffset={left:0,right:0,top:0,bottom:0},this.snapOffsets=[],this.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},this.snapStatus={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,targets:[],locked:!1,changed:!1},this.restrictStatus={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:null,restricted:!1,changed:!1},this.restrictStatus.snap=this.snapStatus,this.pointerIsDown=!1,this.pointerWasMoved=!1,this.gesturing=!1,this.dragging=!1,this.resizing=!1,this.resizeAxes="xy",this.mouse=!1,b.push(this)}function Ue(e,t,r){var n,i=0,o=b.length,s=/mouse/i.test(e.pointerType||t)||4===e.pointerType,a=_e(e);if(/down|start/i.test(t))for(i=0;i<o;i++){var c=r;if((n=b[i]).inertiaStatus.active&&n.target.options[n.prepared.name].inertia.allowResume&&n.mouse===s)for(;c;){if(c===n.element)return n;c=Ae(c)}}if(s||!P&&!C){for(i=0;i<o;i++)if(b[i].mouse&&!b[i].inertiaStatus.active)return b[i];for(i=0;i<o;i++)if(b[i].mouse&&(!/down/.test(t)||!b[i].inertiaStatus.active))return n;return(n=new We).mouse=!0,n}for(i=0;i<o;i++)if(ot(b[i].pointerIds,a))return b[i];if(/up|end|out/i.test(t))return null;for(i=0;i<o;i++)if((!(n=b[i]).prepared.name||n.target.options.gesture.enabled)&&!n.interacting()&&(s||!n.mouse))return n;return new We}function $e(s){return function(e){var t,r,n=be(e.path?e.path[0]:e.target),i=be(e.currentTarget);if(P&&/touch/.test(e.type))for(I=(new Date).getTime(),r=0;r<e.changedTouches.length;r++){var o=e.changedTouches[r];(t=Ue(o,e.type,n))&&(t._updateEventTargets(n,i),t[s](o,e,n,i))}else{if(!C&&/mouse/.test(e.type)){for(r=0;r<b.length;r++)if(!b[r].mouse&&b[r].pointerIsDown)return;if((new Date).getTime()-I<500)return}if(!(t=Ue(e,e.type,n)))return;t._updateEventTargets(n,i),t[s](e,e,n,i)}}}function Le(e,t,r,n,i,o){var s,a,c=e.target,p=e.snapStatus,u=e.restrictStatus,l=e.pointers,d=(c&&c.options||M).deltaSource,h=d+"X",f=d+"Y",m=c?c.options:M,v=Oe(c,i),g="start"===n,y="end"===n,_=g?e.startCoords:e.curCoords;i=i||e.element,a=le({},_.page),s=le({},_.client),a.x-=v.x,a.y-=v.y,s.x-=v.x,s.y-=v.y;var b=m[r].snap&&m[r].snap.relativePoints;!Ye(c,r)||g&&b&&b.length||(this.snap={range:p.range,locked:p.locked,x:p.snappedX,y:p.snappedY,realX:p.realX,realY:p.realY,dx:p.dx,dy:p.dy},p.locked&&(a.x+=p.dx,a.y+=p.dy,s.x+=p.dx,s.y+=p.dy)),!Xe(c,r)||g&&m[r].restrict.elementRect||!u.restricted||(a.x+=u.dx,a.y+=u.dy,s.x+=u.dx,s.y+=u.dy,this.restrict={dx:u.dx,dy:u.dy}),this.pageX=a.x,this.pageY=a.y,this.clientX=s.x,this.clientY=s.y,this.x0=e.startCoords.page.x-v.x,this.y0=e.startCoords.page.y-v.y,this.clientX0=e.startCoords.client.x-v.x,this.clientY0=e.startCoords.client.y-v.y,this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.button=t.button,this.buttons=t.buttons,this.target=i,this.t0=e.downTimes[0],this.type=r+(n||""),this.interaction=e,this.interactable=c;var x=e.inertiaStatus;if(x.active&&(this.detail="inertia"),o&&(this.relatedTarget=o),y?"client"===d?(this.dx=s.x-e.startCoords.client.x,this.dy=s.y-e.startCoords.client.y):(this.dx=a.x-e.startCoords.page.x,this.dy=a.y-e.startCoords.page.y):g?(this.dx=0,this.dy=0):"inertiastart"===n?(this.dx=e.prevEvent.dx,this.dy=e.prevEvent.dy):"client"===d?(this.dx=s.x-e.prevEvent.clientX,this.dy=s.y-e.prevEvent.clientY):(this.dx=a.x-e.prevEvent.pageX,this.dy=a.y-e.prevEvent.pageY),e.prevEvent&&"inertia"===e.prevEvent.detail&&!x.active&&m[r].inertia&&m[r].inertia.zeroResumeDelta&&(x.resumeDx+=this.dx,x.resumeDy+=this.dy,this.dx=this.dy=0),"resize"===r&&e.resizeAxes?m.resize.square?("y"===e.resizeAxes?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=e.resizeAxes,"x"===e.resizeAxes?this.dy=0:"y"===e.resizeAxes&&(this.dx=0)):"gesture"===r&&(this.touches=[l[0],l[1]],g?(this.distance=Ce(l,d),this.box=Pe(l),this.scale=1,this.ds=0,this.angle=Re(l,void 0,d),this.da=0):y||t instanceof Le?(this.distance=e.prevEvent.distance,this.box=e.prevEvent.box,this.scale=e.prevEvent.scale,this.ds=this.scale-1,this.angle=e.prevEvent.angle,this.da=this.angle-e.gesture.startAngle):(this.distance=Ce(l,d),this.box=Pe(l),this.scale=this.distance/e.gesture.startDistance,this.angle=Re(l,e.gesture.prevAngle,d),this.ds=this.scale-e.gesture.prevScale,this.da=this.angle-e.gesture.prevAngle)),g)this.timeStamp=e.downTimes[0],this.dt=0,this.duration=0,this.speed=0,this.velocityX=0,this.velocityY=0;else if("inertiastart"===n)this.timeStamp=e.prevEvent.timeStamp,this.dt=e.prevEvent.dt,this.duration=e.prevEvent.duration,this.speed=e.prevEvent.speed,this.velocityX=e.prevEvent.velocityX,this.velocityY=e.prevEvent.velocityY;else if(this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-e.prevEvent.timeStamp,this.duration=this.timeStamp-e.downTimes[0],t instanceof Le){var E=this[h]-e.prevEvent[h],S=this[f]-e.prevEvent[f],w=this.dt/1e3;this.speed=D(E,S)/w,this.velocityX=E/w,this.velocityY=S/w}else this.speed=e.pointerDelta[d].speed,this.velocityX=e.pointerDelta[d].vx,this.velocityY=e.pointerDelta[d].vy;if((y||"inertiastart"===n)&&600<e.prevEvent.speed&&this.timeStamp-e.prevEvent.timeStamp<150){var T=180*Math.atan2(e.prevEvent.velocityY,e.prevEvent.velocityX)/Math.PI;T<0&&(T+=360);var P=112.5<=T&&T<247.5,C=202.5<=T&&T<337.5,R=!P&&(292.5<=T||T<67.5),O=!C&&22.5<=T&&T<157.5;this.swipe={up:C,down:O,left:P,right:R,angle:T,speed:e.prevEvent.speed,velocity:{x:e.prevEvent.velocityX,y:e.prevEvent.velocityY}}}}function Be(){this.originalEvent.preventDefault()}function Ve(e){var t="";if("drag"===e.name&&(t=A.drag),"resize"===e.name)if(e.axis)t=A[e.name+e.axis];else if(e.edges){for(var r="resize",n=["top","bottom","left","right"],i=0;i<4;i++)e.edges[n[i]]&&(r+=n[i]);t=A[r]}return t}function He(e,t,r,n,i,o,s){if(!t)return!1;if(!0===t){var a=ae(o.width)?o.width:o.right-o.left,c=ae(o.height)?o.height:o.bottom-o.top;if(a<0&&("left"===e?e="right":"right"===e&&(e="left")),c<0&&("top"===e?e="bottom":"bottom"===e&&(e="top")),"left"===e)return r.x<(0<=a?o.left:o.right)+s;if("top"===e)return r.y<(0<=c?o.top:o.bottom)+s;if("right"===e)return r.x>(0<=a?o.right:o.left)-s;if("bottom"===e)return r.y>(0<=c?o.bottom:o.top)-s}return!!te(n)&&(te(t)?t===n:at(n,t,i))}function Ke(e,t,r){var n,i=this.getRect(r),o=!1,s=null,a=null,c=le({},t.curCoords.page),p=this.options;if(!i)return null;if(k.resize&&p.resize.enabled){var u=p.resize;if(n={left:!1,right:!1,top:!1,bottom:!1},oe(u.edges)){for(var l in n)n[l]=He(l,u.edges[l],c,t._eventTarget,r,i,u.margin||R);n.left=n.left&&!n.right,n.top=n.top&&!n.bottom,o=n.left||n.right||n.top||n.bottom}else{var d="y"!==p.resize.axis&&c.x>i.right-R,h="x"!==p.resize.axis&&c.y>i.bottom-R;o=d||h,a=(d?"x":"")+(h?"y":"")}}return s=o?"resize":k.drag&&p.drag.enabled?"drag":null,k.gesture&&2<=t.pointerIds.length&&!t.dragging&&!t.resizing&&(s="gesture"),s?{name:s,axis:a,edges:n}:null}function Ge(e,t){if(!oe(e))return null;var r=e.name,n=t.options;return("resize"===r&&n.resize.enabled||"drag"===r&&n.drag.enabled||"gesture"===r&&n.gesture.enabled)&&k[r]?("resize"!==r&&"resizeyx"!==r||(r="resizexy"),e):null}function Je(e,t){var r={},n=w[e.type],i=be(e.path?e.path[0]:e.target),o=i;for(var s in t=!!t,e)r[s]=e[s];for(r.originalEvent=e,r.preventDefault=Be;te(o);){for(var a=0;a<n.selectors.length;a++){var c=n.selectors[a],p=n.contexts[a];if(st(o,c)&&Ie(p,i)&&Ie(p,o)){var u=n.listeners[a];r.currentTarget=o;for(var l=0;l<u.length;l++)u[l][1]===t&&u[l][0](r)}}o=Ae(o)}}function Qe(e){return Je.call(this,e,!0)}function Ze(e,t){return S.get(e,t)||new et(e,t)}function et(e,t){var r;if(this._element=e,this._iEvents=this._iEvents||{},ue(e)){this.selector=e;var n=t&&t.context;r=n?xe(n):i,n&&(r.Node?n instanceof r.Node:te(n)||n===r.document)&&(this._context=n)}else r=xe(e),te(e)&&(C?($.add(this._element,c.down,B.pointerDown),$.add(this._element,c.move,B.pointerHover)):($.add(this._element,"mousedown",B.pointerDown),$.add(this._element,"mousemove",B.pointerHover),$.add(this._element,"touchstart",B.pointerDown),$.add(this._element,"touchmove",B.pointerHover)));this._doc=r.document,ot(p,this._doc)||nt(this._doc),S.push(this),this.set(t)}function tt(e,t){var r=!1;return function(){return r||(i.console.warn(t),r=!0),e.apply(this,arguments)}}function rt(e){for(var t=0;t<b.length;t++)b[t].pointerEnd(e,e)}function nt(e){if(!ot(p,e)){var t=e.defaultView||e.parentWindow;for(var r in w)$.add(e,r,Je),$.add(e,r,Qe,!0);C?(c=o===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},$.add(e,c.down,B.selectorDown),$.add(e,c.move,B.pointerMove),$.add(e,c.over,B.pointerOver),$.add(e,c.out,B.pointerOut),$.add(e,c.up,B.pointerUp),$.add(e,c.cancel,B.pointerCancel),$.add(e,c.move,B.autoScrollMove)):($.add(e,"mousedown",B.selectorDown),$.add(e,"mousemove",B.pointerMove),$.add(e,"mouseup",B.pointerUp),$.add(e,"mouseover",B.pointerOver),$.add(e,"mouseout",B.pointerOut),$.add(e,"touchstart",B.selectorDown),$.add(e,"touchmove",B.pointerMove),$.add(e,"touchend",B.pointerUp),$.add(e,"touchcancel",B.pointerCancel),$.add(e,"mousemove",B.autoScrollMove),$.add(e,"touchmove",B.autoScrollMove)),$.add(t,"blur",rt);try{if(t.frameElement){var n=t.frameElement.ownerDocument,i=n.defaultView;$.add(n,"mouseup",B.pointerEnd),$.add(n,"touchend",B.pointerEnd),$.add(n,"touchcancel",B.pointerEnd),$.add(n,"pointerup",B.pointerEnd),$.add(n,"MSPointerUp",B.pointerEnd),$.add(i,"blur",rt)}}catch(e){Ze.windowParentError=e}$.add(e,"dragstart",function(e){for(var t=0;t<b.length;t++){var r=b[t];if(r.element&&(r.element===e.target||Ie(r.element,e.target)))return void r.checkAndPreventDefault(e,r.target,r.element)}}),$.useAttachEvent&&($.add(e,"selectstart",function(e){var t=b[0];t.currentAction()&&t.checkAndPreventDefault(e)}),$.add(e,"dblclick",$e("ie8Dblclick"))),p.push(e)}}function it(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function ot(e,t){return-1!==it(e,t)}function st(e,t,r){return E?E(e,t,r):(i!==n&&(t=t.replace(/\/deep\//g," ")),e[q](t))}function at(e,t,r){for(;te(e);){if(st(e,t))return!0;if((e=Ae(e))===r)return st(e,t)}return!1}}("undefined"==typeof window?void 0:window)}),interact_1=interact.interact,CropMarker=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,React__default.Component),_createClass(t,[{key:"componentDidMount",value:function(){var r=this;function e(e){var t=e.target,r=(parseFloat(t.getAttribute("data-x"))||0)+e.dx;t.style.transform="translate("+r+"px, 0px)",t.setAttribute("data-x",r)}this.props.isStart?interact(".draggable_start").draggable({inertia:!0,restrict:{restriction:"parent",endOnly:!1,elementRect:{top:0,left:0,bottom:1,right:1}},autoScroll:!0,onmove:e,onend:function(e){var t=e.target;r.props.cropsChanged("start",parseFloat(t.getAttribute("data-x")))}}):interact(".draggable_end").draggable({inertia:!0,restrict:{restriction:"parent",endOnly:!1,elementRect:{top:0,left:0,bottom:1,right:1}},autoScroll:!0,onmove:e,onend:function(e){var t=e.target;r.props.cropsChanged("end",parseFloat(t.getAttribute("data-x")))}})}},{key:"shouldComponentUpdate",value:function(e,t,r){return this.props.position!==e.position}},{key:"render",value:function(){var e="end_marker draggable_end",t="<";return this.props.isStart&&(e="start_marker draggable_start",t=">"),React__default.createElement("div",{className:e,style:{transform:"translate("+this.props.position+"px, 0px)"},"data-x":this.props.position},t)}}]),t}();function cropChanged(e,t){return _defineProperty({type:"CROPS_CHANGED"},e,t)}CropMarker.propTypes={position:propTypes.number,isStart:propTypes.bool,cropsChanged:propTypes.func};var Seek=function(e){function t(e){var r;return _classCallCheck(this,t),_defineProperty(_assertThisInitialized(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))),"seek",function(e){r.props.seek(e.target.value*r.props.duration/100)}),_defineProperty(_assertThisInitialized(r),"onFocus",function(){r.setState({focused:!0})}),_defineProperty(_assertThisInitialized(r),"cropsChanged",function(e,t){r.props.store.dispatch(cropChanged(e,t))}),r.state={focused:!1},r}return _inherits(t,React__default.Component),_createClass(t,[{key:"render",value:function(){return React__default.createElement("div",{className:"video-seek video__control"+(this.state.focused?" video__control--focused":"")},React__default.createElement("div",{className:"video-seek__container"},React__default.createElement("div",{style:{width:this.props.percentageBuffered+"%"},className:"video-seek__buffer-bar"}),React__default.createElement(ProgressBar,{onFocus:this.onFocus,onChange:this.seek,progress:this.props.percentagePlayed}),React__default.createElement(CropMarker,{position:this.props.crop_start,isStart:!0,cropsChanged:this.cropsChanged}),React__default.createElement(CropMarker,{position:this.props.crop_end,isStart:!1,cropsChanged:this.cropsChanged})))}}]),t}();Seek.propTypes={seek:propTypes.func,percentageBuffered:propTypes.number,percentagePlayed:propTypes.number,duration:propTypes.number},Seek.defaultProps={percentageBuffered:0,percentagePlayed:0};var Controls=function(r){var e=[React__default.createElement(Play,null),React__default.createElement(Seek,null),React__default.createElement(Time,null)];return React__default.createElement("div",{className:"video-controls video__controls"},e.map(function(e,t){return React__default.cloneElement(e,_objectSpread({},r,{key:t}))}))};function Spinner(){return React__default.createElement("div",{className:"video-spinner"},React__default.createElement("div",{className:"video-spinner__rect1"}),React__default.createElement("div",{className:"video-spinner__rect2"}),React__default.createElement("div",{className:"video-spinner__rect3"}),React__default.createElement("div",{className:"video-spinner__rect4"}),React__default.createElement("div",{className:"video-spinner__rect5"}))}var Overlay=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,React__default.Component),_createClass(t,[{key:"renderContent",value:function(){var e=this;return this.props.error?React__default.createElement("div",{className:"video-overlay__error"},React__default.createElement("p",{className:"video-overlay__error-text"},this.props.error)):this.props.loading?React__default.createElement("div",{className:"video-overlay__loader"},React__default.createElement(Spinner,null)):React__default.createElement("div",null,React__default.createElement("div",{className:"video-overlay__pic",onClick:function(){e.props.paused?e.props.store.dispatch({type:"IMG_INSERT",position:e.props.percentagePlayed}):e.props.togglePlay()}},this.props.paused&&React__default.createElement(Icon,{name:"pic",onClick:function(){e.props.togglePlay()}})))}},{key:"render",value:function(){return React__default.createElement("div",{className:"video-overlay"},this.renderContent())}}]),t}();function images(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"IMG_INSERT":return console.log(e,t),e.push(t.position),e;default:return e}}function crop_end(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"CROPS_CHANGED":return t.start&&(console.log(t.start,e,e-t.start),e-t.start<20)?t.start+20:t.end?t.end:e;default:return e}}function crop_start(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"CROPS_CHANGED":return t.end&&(console.log(t.end,e,t.end-e),t.end-e<20)?t.end-20:t.start?t.start:e;default:return e}}Overlay.propTypes={error:propTypes.bool,togglePlay:propTypes.func,paused:propTypes.bool,loading:propTypes.bool};var rootReducer=combineReducers({crop_end:crop_end,crop_start:crop_start,images:images}),defaultState={crop_start:0,crop_end:100},store=createStore(rootReducer,defaultState,compose(function(e){return e}));function render_editor(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"src/img/poster.png",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"src/video/small.mp4";ReactDOM__default.render(React__default.createElement(RdxVideo,{loop:!0,muted:!0,poster:e,store:store},React__default.createElement(Overlay,null),React__default.createElement(Controls,null),React__default.createElement("source",{src:t,type:"video/mp4"})),document.getElementById("root"))}exports.Controls=Controls,exports.Overlay=Overlay,exports.RdxVideo=RdxVideo,exports.render_editor=render_editor,exports.store=store;
